/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/lightgallery.js";
exports.ids = ["vendor-chunks/lightgallery.js"];
exports.modules = {

/***/ "(ssr)/./node_modules/lightgallery.js/lib/js/lg-utils.js":
/*!*********************************************************!*\
  !*** ./node_modules/lightgallery.js/lib/js/lg-utils.js ***!
  \*********************************************************/
/***/ (function(module, exports) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n            exports\n        ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else { var mod; }\n})(this, function(exports1) {\n    \"use strict\";\n    Object.defineProperty(exports1, \"__esModule\", {\n        value: true\n    });\n    var utils = {\n        getAttribute: function getAttribute(el, label) {\n            return el[label];\n        },\n        setAttribute: function setAttribute(el, label, value) {\n            el[label] = value;\n        },\n        wrap: function wrap(el, className) {\n            if (!el) {\n                return;\n            }\n            var wrapper = document.createElement(\"div\");\n            wrapper.className = className;\n            el.parentNode.insertBefore(wrapper, el);\n            el.parentNode.removeChild(el);\n            wrapper.appendChild(el);\n        },\n        addClass: function addClass(el, className) {\n            if (!el) {\n                return;\n            }\n            if (el.classList) {\n                el.classList.add(className);\n            } else {\n                el.className += \" \" + className;\n            }\n        },\n        removeClass: function removeClass(el, className) {\n            if (!el) {\n                return;\n            }\n            if (el.classList) {\n                el.classList.remove(className);\n            } else {\n                el.className = el.className.replace(new RegExp(\"(^|\\\\b)\" + className.split(\" \").join(\"|\") + \"(\\\\b|$)\", \"gi\"), \" \");\n            }\n        },\n        hasClass: function hasClass(el, className) {\n            if (el.classList) {\n                return el.classList.contains(className);\n            } else {\n                return new RegExp(\"(^| )\" + className + \"( |$)\", \"gi\").test(el.className);\n            }\n        },\n        // ex Transform\n        // ex TransitionTimingFunction\n        setVendor: function setVendor(el, property, value) {\n            if (!el) {\n                return;\n            }\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\n            el.style[\"webkit\" + property] = value;\n            el.style[\"moz\" + property] = value;\n            el.style[\"ms\" + property] = value;\n            el.style[\"o\" + property] = value;\n        },\n        trigger: function trigger(el, event) {\n            var detail = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n            if (!el) {\n                return;\n            }\n            var customEvent = new CustomEvent(event, {\n                detail: detail\n            });\n            el.dispatchEvent(customEvent);\n        },\n        Listener: {\n            uid: 0\n        },\n        on: function on(el, events, fn) {\n            var _this = this;\n            if (!el) {\n                return;\n            }\n            events.split(\" \").forEach(function(event) {\n                var _id = _this.getAttribute(el, \"lg-event-uid\") || \"\";\n                utils.Listener.uid++;\n                _id += \"&\" + utils.Listener.uid;\n                _this.setAttribute(el, \"lg-event-uid\", _id);\n                utils.Listener[event + utils.Listener.uid] = fn;\n                el.addEventListener(event.split(\".\")[0], fn, false);\n            });\n        },\n        off: function off(el, event) {\n            if (!el) {\n                return;\n            }\n            var _id = this.getAttribute(el, \"lg-event-uid\");\n            if (_id) {\n                _id = _id.split(\"&\");\n                for(var i = 0; i < _id.length; i++){\n                    if (_id[i]) {\n                        var _event = event + _id[i];\n                        if (_event.substring(0, 1) === \".\") {\n                            for(var key in utils.Listener){\n                                if (utils.Listener.hasOwnProperty(key)) {\n                                    if (key.split(\".\").indexOf(_event.split(\".\")[1]) > -1) {\n                                        el.removeEventListener(key.split(\".\")[0], utils.Listener[key]);\n                                        this.setAttribute(el, \"lg-event-uid\", this.getAttribute(el, \"lg-event-uid\").replace(\"&\" + _id[i], \"\"));\n                                        delete utils.Listener[key];\n                                    }\n                                }\n                            }\n                        } else {\n                            el.removeEventListener(_event.split(\".\")[0], utils.Listener[_event]);\n                            this.setAttribute(el, \"lg-event-uid\", this.getAttribute(el, \"lg-event-uid\").replace(\"&\" + _id[i], \"\"));\n                            delete utils.Listener[_event];\n                        }\n                    }\n                }\n            }\n        },\n        param: function param(obj) {\n            return Object.keys(obj).map(function(k) {\n                return encodeURIComponent(k) + \"=\" + encodeURIComponent(obj[k]);\n            }).join(\"&\");\n        }\n    };\n    exports1.default = utils;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGlnaHRnYWxsZXJ5LmpzL2xpYi9qcy9sZy11dGlscy5qcyIsIm1hcHBpbmdzIjoiQUFBQywwR0FBVUEsTUFBTSxFQUFFQyxPQUFPO0lBQ3RCLElBQUksSUFBMEMsRUFBRTtRQUM1Q0MsaUNBQU87WUFBQztTQUFVLG9DQUFFRCxPQUFPQTtBQUFBO0FBQUE7QUFBQSxrR0FBQ0E7SUFDaEMsT0FBTyxZQVFOO0FBQ0wsR0FBRyxJQUFJLEVBQUUsU0FBVUcsUUFBTztJQUN0QjtJQUVBRyxPQUFPQyxjQUFjLENBQUNKLFVBQVMsY0FBYztRQUN6Q0ssT0FBTztJQUNYO0lBRUEsSUFBSUMsUUFBUTtRQUNSQyxjQUFjLFNBQVNBLGFBQWFDLEVBQUUsRUFBRUMsS0FBSztZQUN6QyxPQUFPRCxFQUFFLENBQUNDLE1BQU07UUFDcEI7UUFFQUMsY0FBYyxTQUFTQSxhQUFhRixFQUFFLEVBQUVDLEtBQUssRUFBRUosS0FBSztZQUNoREcsRUFBRSxDQUFDQyxNQUFNLEdBQUdKO1FBQ2hCO1FBQ0FNLE1BQU0sU0FBU0EsS0FBS0gsRUFBRSxFQUFFSSxTQUFTO1lBQzdCLElBQUksQ0FBQ0osSUFBSTtnQkFDTDtZQUNKO1lBRUEsSUFBSUssVUFBVUMsU0FBU0MsYUFBYSxDQUFDO1lBQ3JDRixRQUFRRCxTQUFTLEdBQUdBO1lBQ3BCSixHQUFHUSxVQUFVLENBQUNDLFlBQVksQ0FBQ0osU0FBU0w7WUFDcENBLEdBQUdRLFVBQVUsQ0FBQ0UsV0FBVyxDQUFDVjtZQUMxQkssUUFBUU0sV0FBVyxDQUFDWDtRQUN4QjtRQUVBWSxVQUFVLFNBQVNBLFNBQVNaLEVBQUUsRUFBRUksU0FBUztZQUNyQyxJQUFJLENBQUNKLElBQUk7Z0JBQ0w7WUFDSjtZQUVBLElBQUlBLEdBQUdhLFNBQVMsRUFBRTtnQkFDZGIsR0FBR2EsU0FBUyxDQUFDQyxHQUFHLENBQUNWO1lBQ3JCLE9BQU87Z0JBQ0hKLEdBQUdJLFNBQVMsSUFBSSxNQUFNQTtZQUMxQjtRQUNKO1FBRUFX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T0FBTytELElBQUksQ0FBQ0QsS0FBS0UsR0FBRyxDQUFDLFNBQVVDLENBQUM7Z0JBQ25DLE9BQU9DLG1CQUFtQkQsS0FBSyxNQUFNQyxtQkFBbUJKLEdBQUcsQ0FBQ0csRUFBRTtZQUNsRSxHQUFHeEMsSUFBSSxDQUFDO1FBQ1o7SUFDSjtJQUVBNUIsU0FBUXNFLE9BQU8sR0FBR2hFO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhcnR1cC1uZXh0anMtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvbGlnaHRnYWxsZXJ5LmpzL2xpYi9qcy9sZy11dGlscy5qcz84M2ZkIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZC5leHBvcnRzKTtcbiAgICAgICAgZ2xvYmFsLmxnVXRpbHMgPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAoZXhwb3J0cykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdmFyIHV0aWxzID0ge1xuICAgICAgICBnZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZShlbCwgbGFiZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlbFtsYWJlbF07XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0QXR0cmlidXRlOiBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUoZWwsIGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICAgICAgZWxbbGFiZWxdID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHdyYXA6IGZ1bmN0aW9uIHdyYXAoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgZWwpO1xuICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gYWRkQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScpLnRlc3QoZWwuY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBleCBUcmFuc2Zvcm1cbiAgICAgICAgLy8gZXggVHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXG4gICAgICAgIHNldFZlbmRvcjogZnVuY3Rpb24gc2V0VmVuZG9yKGVsLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsLnN0eWxlW3Byb3BlcnR5LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgcHJvcGVydHkuc2xpY2UoMSldID0gdmFsdWU7XG4gICAgICAgICAgICBlbC5zdHlsZVsnd2Via2l0JyArIHByb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICAgICAgZWwuc3R5bGVbJ21veicgKyBwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGVsLnN0eWxlWydtcycgKyBwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGVsLnN0eWxlWydvJyArIHByb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRyaWdnZXI6IGZ1bmN0aW9uIHRyaWdnZXIoZWwsIGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZGV0YWlsID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY3VzdG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWw6IGRldGFpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGN1c3RvbUV2ZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBMaXN0ZW5lcjoge1xuICAgICAgICAgICAgdWlkOiAwXG4gICAgICAgIH0sXG4gICAgICAgIG9uOiBmdW5jdGlvbiBvbihlbCwgZXZlbnRzLCBmbikge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2lkID0gX3RoaXMuZ2V0QXR0cmlidXRlKGVsLCAnbGctZXZlbnQtdWlkJykgfHwgJyc7XG4gICAgICAgICAgICAgICAgdXRpbHMuTGlzdGVuZXIudWlkKys7XG4gICAgICAgICAgICAgICAgX2lkICs9ICcmJyArIHV0aWxzLkxpc3RlbmVyLnVpZDtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRBdHRyaWJ1dGUoZWwsICdsZy1ldmVudC11aWQnLCBfaWQpO1xuICAgICAgICAgICAgICAgIHV0aWxzLkxpc3RlbmVyW2V2ZW50ICsgdXRpbHMuTGlzdGVuZXIudWlkXSA9IGZuO1xuICAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQuc3BsaXQoJy4nKVswXSwgZm4sIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9mZjogZnVuY3Rpb24gb2ZmKGVsLCBldmVudCkge1xuICAgICAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIF9pZCA9IHRoaXMuZ2V0QXR0cmlidXRlKGVsLCAnbGctZXZlbnQtdWlkJyk7XG4gICAgICAgICAgICBpZiAoX2lkKSB7XG4gICAgICAgICAgICAgICAgX2lkID0gX2lkLnNwbGl0KCcmJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfaWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9pZFtpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9ldmVudCA9IGV2ZW50ICsgX2lkW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9ldmVudC5zdWJzdHJpbmcoMCwgMSkgPT09ICcuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB1dGlscy5MaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXRpbHMuTGlzdGVuZXIuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zcGxpdCgnLicpLmluZGV4T2YoX2V2ZW50LnNwbGl0KCcuJylbMV0pID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGtleS5zcGxpdCgnLicpWzBdLCB1dGlscy5MaXN0ZW5lcltrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShlbCwgJ2xnLWV2ZW50LXVpZCcsIHRoaXMuZ2V0QXR0cmlidXRlKGVsLCAnbGctZXZlbnQtdWlkJykucmVwbGFjZSgnJicgKyBfaWRbaV0sICcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHV0aWxzLkxpc3RlbmVyW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoX2V2ZW50LnNwbGl0KCcuJylbMF0sIHV0aWxzLkxpc3RlbmVyW19ldmVudF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGVsLCAnbGctZXZlbnQtdWlkJywgdGhpcy5nZXRBdHRyaWJ1dGUoZWwsICdsZy1ldmVudC11aWQnKS5yZXBsYWNlKCcmJyArIF9pZFtpXSwgJycpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdXRpbHMuTGlzdGVuZXJbX2V2ZW50XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBwYXJhbTogZnVuY3Rpb24gcGFyYW0ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGspICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtrXSk7XG4gICAgICAgICAgICB9KS5qb2luKCcmJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdXRpbHM7XG59KTsiXSwibmFtZXMiOlsiZ2xvYmFsIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2QiLCJsZ1V0aWxzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInV0aWxzIiwiZ2V0QXR0cmlidXRlIiwiZWwiLCJsYWJlbCIsInNldEF0dHJpYnV0ZSIsIndyYXAiLCJjbGFzc05hbWUiLCJ3cmFwcGVyIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJhZGRDbGFzcyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwicmVwbGFjZSIsIlJlZ0V4cCIsInNwbGl0Iiwiam9pbiIsImhhc0NsYXNzIiwiY29udGFpbnMiLCJ0ZXN0Iiwic2V0VmVuZG9yIiwicHJvcGVydHkiLCJzdHlsZSIsImNoYXJBdCIsInRvTG93ZXJDYXNlIiwic2xpY2UiLCJ0cmlnZ2VyIiwiZXZlbnQiLCJkZXRhaWwiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjdXN0b21FdmVudCIsIkN1c3RvbUV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIkxpc3RlbmVyIiwidWlkIiwib24iLCJldmVudHMiLCJmbiIsIl90aGlzIiwiZm9yRWFjaCIsIl9pZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvZmYiLCJpIiwiX2V2ZW50Iiwic3Vic3RyaW5nIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJpbmRleE9mIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcmFtIiwib2JqIiwia2V5cyIsIm1hcCIsImsiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/lightgallery.js/lib/js/lg-utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/lightgallery.js/lib/js/lightgallery.js":
/*!*************************************************************!*\
  !*** ./node_modules/lightgallery.js/lib/js/lightgallery.js ***!
  \*************************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n            __webpack_require__(/*! ./lg-utils */ \"(ssr)/./node_modules/lightgallery.js/lib/js/lg-utils.js\")\n        ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else { var mod; }\n})(this, function(_lgUtils) {\n    \"use strict\";\n    var _lgUtils2 = _interopRequireDefault(_lgUtils);\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n    var _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    /** Polyfill the CustomEvent() constructor functionality in Internet Explorer 9 and higher */ (function() {\n        if (typeof window.CustomEvent === \"function\") {\n            return false;\n        }\n        function CustomEvent(event, params) {\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: undefined\n            };\n            var evt = document.createEvent(\"CustomEvent\");\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n            return evt;\n        }\n        CustomEvent.prototype = window.Event.prototype;\n        window.CustomEvent = CustomEvent;\n    })();\n    window.utils = _lgUtils2.default;\n    window.lgData = {\n        uid: 0\n    };\n    window.lgModules = {};\n    var defaults = {\n        mode: \"lg-slide\",\n        // Ex : 'ease'\n        cssEasing: \"ease\",\n        //'for jquery animation'\n        easing: \"linear\",\n        speed: 600,\n        height: \"100%\",\n        width: \"100%\",\n        addClass: \"\",\n        startClass: \"lg-start-zoom\",\n        backdropDuration: 150,\n        // Set 0, if u don't want to hide the controls \n        hideBarsDelay: 6000,\n        useLeft: false,\n        // aria-labelledby attribute fot gallery\n        ariaLabelledby: \"\",\n        //aria-describedby attribute for gallery\n        ariaDescribedby: \"\",\n        closable: true,\n        loop: true,\n        escKey: true,\n        keyPress: true,\n        controls: true,\n        slideEndAnimatoin: true,\n        hideControlOnEnd: false,\n        mousewheel: false,\n        getCaptionFromTitleOrAlt: true,\n        // .lg-item || '.lg-sub-html'\n        appendSubHtmlTo: \".lg-sub-html\",\n        subHtmlSelectorRelative: false,\n        /**\n         * @desc number of preload slides\n         * will exicute only after the current slide is fully loaded.\n         *\n         * @ex you clicked on 4th image and if preload = 1 then 3rd slide and 5th\n         * slide will be loaded in the background after the 4th slide is fully loaded..\n         * if preload is 2 then 2nd 3rd 5th 6th slides will be preloaded.. ... ...\n         *\n         */ preload: 1,\n        showAfterLoad: true,\n        selector: \"\",\n        selectWithin: \"\",\n        nextHtml: \"\",\n        prevHtml: \"\",\n        // 0, 1\n        index: false,\n        iframeMaxWidth: \"100%\",\n        download: true,\n        counter: true,\n        appendCounterTo: \".lg-toolbar\",\n        swipeThreshold: 50,\n        enableSwipe: true,\n        enableDrag: true,\n        dynamic: false,\n        dynamicEl: [],\n        galleryId: 1,\n        supportLegacyBrowser: true\n    };\n    function Plugin(element, options) {\n        // Current lightGallery element\n        this.el = element;\n        // lightGallery settings\n        this.s = _extends({}, defaults, options);\n        // When using dynamic mode, ensure dynamicEl is an array\n        if (this.s.dynamic && this.s.dynamicEl !== \"undefined\" && this.s.dynamicEl.constructor === Array && !this.s.dynamicEl.length) {\n            throw \"When using dynamic mode, you must also define dynamicEl as an Array.\";\n        }\n        // lightGallery modules\n        this.modules = {};\n        // false when lightgallery complete first slide;\n        this.lGalleryOn = false;\n        this.lgBusy = false;\n        // Timeout function for hiding controls;\n        this.hideBartimeout = false;\n        // To determine browser supports for touch events;\n        this.isTouch = \"ontouchstart\" in document.documentElement;\n        // Disable hideControlOnEnd if sildeEndAnimation is true\n        if (this.s.slideEndAnimatoin) {\n            this.s.hideControlOnEnd = false;\n        }\n        this.items = [];\n        // Gallery items\n        if (this.s.dynamic) {\n            this.items = this.s.dynamicEl;\n        } else {\n            if (this.s.selector === \"this\") {\n                this.items.push(this.el);\n            } else if (this.s.selector !== \"\") {\n                if (this.s.selectWithin) {\n                    this.items = document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector);\n                } else {\n                    this.items = this.el.querySelectorAll(this.s.selector);\n                }\n            } else {\n                this.items = this.el.children;\n            }\n        }\n        // .lg-item\n        this.___slide = \"\";\n        // .lg-outer\n        this.outer = \"\";\n        this.init();\n        return this;\n    }\n    Plugin.prototype.init = function() {\n        var _this = this;\n        // s.preload should not be more than $item.length\n        if (_this.s.preload > _this.items.length) {\n            _this.s.preload = _this.items.length;\n        }\n        // if dynamic option is enabled execute immediately\n        var _hash = window.location.hash;\n        if (_hash.indexOf(\"lg=\" + this.s.galleryId) > 0) {\n            _this.index = parseInt(_hash.split(\"&slide=\")[1], 10);\n            _lgUtils2.default.addClass(document.body, \"lg-from-hash\");\n            if (!_lgUtils2.default.hasClass(document.body, \"lg-on\")) {\n                _lgUtils2.default.addClass(document.body, \"lg-on\");\n                setTimeout(function() {\n                    _this.build(_this.index);\n                });\n            }\n        }\n        if (_this.s.dynamic) {\n            _lgUtils2.default.trigger(this.el, \"onBeforeOpen\");\n            _this.index = _this.s.index || 0;\n            // prevent accidental double execution\n            if (!_lgUtils2.default.hasClass(document.body, \"lg-on\")) {\n                _lgUtils2.default.addClass(document.body, \"lg-on\");\n                setTimeout(function() {\n                    _this.build(_this.index);\n                });\n            }\n        } else {\n            for(var i = 0; i < _this.items.length; i++){\n                /*jshint loopfunc: true */ (function(index) {\n                    // Using different namespace for click because click event should not unbind if selector is same object('this')\n                    _lgUtils2.default.on(_this.items[index], \"click.lgcustom\", function(e) {\n                        e.preventDefault();\n                        _lgUtils2.default.trigger(_this.el, \"onBeforeOpen\");\n                        _this.index = _this.s.index || index;\n                        if (!_lgUtils2.default.hasClass(document.body, \"lg-on\")) {\n                            _this.build(_this.index);\n                            _lgUtils2.default.addClass(document.body, \"lg-on\");\n                        }\n                    });\n                })(i);\n            }\n        }\n    };\n    Plugin.prototype.build = function(index) {\n        var _this = this;\n        _this.structure();\n        for(var key in window.lgModules){\n            _this.modules[key] = new window.lgModules[key](_this.el);\n        }\n        // initiate slide function\n        _this.slide(index, false, false);\n        if (_this.s.keyPress) {\n            _this.keyPress();\n        }\n        if (_this.items.length > 1) {\n            _this.arrow();\n            setTimeout(function() {\n                _this.enableDrag();\n                _this.enableSwipe();\n            }, 50);\n            if (_this.s.mousewheel) {\n                _this.mousewheel();\n            }\n        }\n        _this.counter();\n        _this.closeGallery();\n        _lgUtils2.default.trigger(_this.el, \"onAfterOpen\");\n        // Hide controllers if mouse doesn't move for some period\n        if (_this.s.hideBarsDelay > 0) {\n            // Hide controls if user doesn't use mouse or touch after opening gallery\n            var initialHideBarTimeout = setTimeout(function() {\n                _lgUtils2.default.addClass(_this.outer, \"lg-hide-items\");\n            }, _this.s.hideBarsDelay);\n            _lgUtils2.default.on(_this.outer, \"mousemove.lg click.lg touchstart.lg\", function() {\n                // Cancel initalHideBarTimout if user uses mouse or touch events\n                // Before it fires\n                clearTimeout(initialHideBarTimeout);\n                _lgUtils2.default.removeClass(_this.outer, \"lg-hide-items\");\n                clearTimeout(_this.hideBartimeout);\n                // Timeout will be cleared on each slide movement also\n                _this.hideBartimeout = setTimeout(function() {\n                    _lgUtils2.default.addClass(_this.outer, \"lg-hide-items\");\n                }, _this.s.hideBarsDelay);\n            });\n        }\n    };\n    Plugin.prototype.structure = function() {\n        var list = \"\";\n        var controls = \"\";\n        var i = 0;\n        var subHtmlCont = \"\";\n        var template;\n        var _this = this;\n        document.body.insertAdjacentHTML(\"beforeend\", '<div class=\"lg-backdrop\"></div>');\n        _lgUtils2.default.setVendor(document.querySelector(\".lg-backdrop\"), \"TransitionDuration\", this.s.backdropDuration + \"ms\");\n        // Create gallery items\n        for(i = 0; i < this.items.length; i++){\n            list += '<div class=\"lg-item\"></div>';\n        }\n        // Create controlls\n        if (this.s.controls && this.items.length > 1) {\n            controls = '<div class=\"lg-actions\">' + '<button type=\"button\" aria-label=\"Previous slide\" class=\"lg-prev lg-icon\">' + this.s.prevHtml + \"</button>\" + '<button type=\"button\" aria-label=\"Next slide\" class=\"lg-next lg-icon\">' + this.s.nextHtml + \"</button>\" + \"</div>\";\n        }\n        if (this.s.appendSubHtmlTo === \".lg-sub-html\") {\n            subHtmlCont = '<div role=\"status\" aria-live=\"polite\" class=\"lg-sub-html\"></div>';\n        }\n        var ariaLabelledby = this.s.ariaLabelledby ? 'aria-labelledby=\"' + this.s.ariaLabelledby + '\"' : \"\";\n        var ariaDescribedby = this.s.ariaDescribedby ? 'aria-describedby=\"' + this.s.ariaDescribedby + '\"' : \"\";\n        template = '<div tabindex=\"-1\" aria-modal=\"true\" ' + ariaLabelledby + \" \" + ariaDescribedby + ' role=\"dialog\" class=\"lg-outer ' + this.s.addClass + \" \" + this.s.startClass + '\">' + '<div class=\"lg\" style=\"width:' + this.s.width + \"; height:\" + this.s.height + '\">' + '<div class=\"lg-inner\">' + list + \"</div>\" + '<div class=\"lg-toolbar lg-group\">' + '<button type=\"button\" aria-label=\"Close gallery\" class=\"lg-close lg-icon\"></button>' + \"</div>\" + controls + subHtmlCont + \"</div>\" + \"</div>\";\n        document.body.insertAdjacentHTML(\"beforeend\", template);\n        this.outer = document.querySelector(\".lg-outer\");\n        this.outer.focus();\n        this.___slide = this.outer.querySelectorAll(\".lg-item\");\n        if (this.s.useLeft) {\n            _lgUtils2.default.addClass(this.outer, \"lg-use-left\");\n            // Set mode lg-slide if use left is true;\n            this.s.mode = \"lg-slide\";\n        } else {\n            _lgUtils2.default.addClass(this.outer, \"lg-use-css3\");\n        }\n        // For fixed height gallery\n        _this.setTop();\n        _lgUtils2.default.on(window, \"resize.lg orientationchange.lg\", function() {\n            setTimeout(function() {\n                _this.setTop();\n            }, 100);\n        });\n        // add class lg-current to remove initial transition\n        _lgUtils2.default.addClass(this.___slide[this.index], \"lg-current\");\n        // add Class for css support and transition mode\n        if (this.doCss()) {\n            _lgUtils2.default.addClass(this.outer, \"lg-css3\");\n        } else {\n            _lgUtils2.default.addClass(this.outer, \"lg-css\");\n            // Set speed 0 because no animation will happen if browser doesn't support css3\n            this.s.speed = 0;\n        }\n        _lgUtils2.default.addClass(this.outer, this.s.mode);\n        if (this.s.enableDrag && this.items.length > 1) {\n            _lgUtils2.default.addClass(this.outer, \"lg-grab\");\n        }\n        if (this.s.showAfterLoad) {\n            _lgUtils2.default.addClass(this.outer, \"lg-show-after-load\");\n        }\n        if (this.doCss()) {\n            var inner = this.outer.querySelector(\".lg-inner\");\n            _lgUtils2.default.setVendor(inner, \"TransitionTimingFunction\", this.s.cssEasing);\n            _lgUtils2.default.setVendor(inner, \"TransitionDuration\", this.s.speed + \"ms\");\n        }\n        setTimeout(function() {\n            _lgUtils2.default.addClass(document.querySelector(\".lg-backdrop\"), \"in\");\n        });\n        setTimeout(function() {\n            _lgUtils2.default.addClass(_this.outer, \"lg-visible\");\n        }, this.s.backdropDuration);\n        if (this.s.download) {\n            this.outer.querySelector(\".lg-toolbar\").insertAdjacentHTML(\"beforeend\", '<a id=\"lg-download\" aria-label=\"Download\" target=\"_blank\" download class=\"lg-download lg-icon\"></a>');\n        }\n        // Store the current scroll top value to scroll back after closing the gallery..\n        this.prevScrollTop = document.documentElement.scrollTop || document.body.scrollTop;\n    };\n    // For fixed height gallery\n    Plugin.prototype.setTop = function() {\n        if (this.s.height !== \"100%\") {\n            var wH = window.innerHeight;\n            var top = (wH - parseInt(this.s.height, 10)) / 2;\n            var lGallery = this.outer.querySelector(\".lg\");\n            if (wH >= parseInt(this.s.height, 10)) {\n                lGallery.style.top = top + \"px\";\n            } else {\n                lGallery.style.top = \"0px\";\n            }\n        }\n    };\n    // Find css3 support\n    Plugin.prototype.doCss = function() {\n        // check for css animation support\n        var support = function support() {\n            var transition = [\n                \"transition\",\n                \"MozTransition\",\n                \"WebkitTransition\",\n                \"OTransition\",\n                \"msTransition\",\n                \"KhtmlTransition\"\n            ];\n            var root = document.documentElement;\n            var i = 0;\n            for(i = 0; i < transition.length; i++){\n                if (transition[i] in root.style) {\n                    return true;\n                }\n            }\n        };\n        if (support()) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     *  @desc Check the given src is video\n     *  @param {String} src\n     *  @return {Object} video type\n     *  Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\n     */ Plugin.prototype.isVideo = function(src, index) {\n        var html;\n        if (this.s.dynamic) {\n            html = this.s.dynamicEl[index].html;\n        } else {\n            html = this.items[index].getAttribute(\"data-html\");\n        }\n        if (!src && html) {\n            return {\n                html5: true\n            };\n        }\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)/i);\n        var vimeo = src.match(/\\/\\/(?:www\\.)?vimeo.com\\/([0-9a-z\\-_]+)/i);\n        var dailymotion = src.match(/\\/\\/(?:www\\.)?dai.ly\\/([0-9a-z\\-_]+)/i);\n        var vk = src.match(/\\/\\/(?:www\\.)?(?:vk\\.com|vkontakte\\.ru)\\/(?:video_ext\\.php\\?)(.*)/i);\n        if (youtube) {\n            return {\n                youtube: youtube\n            };\n        } else if (vimeo) {\n            return {\n                vimeo: vimeo\n            };\n        } else if (dailymotion) {\n            return {\n                dailymotion: dailymotion\n            };\n        } else if (vk) {\n            return {\n                vk: vk\n            };\n        }\n    };\n    /**\n     *  @desc Create image counter\n     *  Ex: 1/10\n     */ Plugin.prototype.counter = function() {\n        if (this.s.counter) {\n            this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML(\"beforeend\", '<div id=\"lg-counter\" role=\"status\" aria-live=\"polite\"><span id=\"lg-counter-current\">' + (parseInt(this.index, 10) + 1) + '</span> / <span id=\"lg-counter-all\">' + this.items.length + \"</span></div>\");\n        }\n    };\n    /**\n     *  @desc add sub-html into the slide\n     *  @param {Number} index - index of the slide\n     */ Plugin.prototype.addHtml = function(index) {\n        var subHtml = null;\n        var currentEle;\n        if (this.s.dynamic) {\n            subHtml = this.s.dynamicEl[index].subHtml;\n        } else {\n            currentEle = this.items[index];\n            subHtml = currentEle.getAttribute(\"data-sub-html\");\n            if (this.s.getCaptionFromTitleOrAlt && !subHtml) {\n                subHtml = currentEle.getAttribute(\"title\");\n                if (subHtml && currentEle.querySelector(\"img\")) {\n                    subHtml = currentEle.querySelector(\"img\").getAttribute(\"alt\");\n                }\n            }\n        }\n        if (typeof subHtml !== \"undefined\" && subHtml !== null) {\n            // get first letter of subhtml\n            // if first letter starts with . or # get the html form the jQuery object\n            var fL = subHtml.substring(0, 1);\n            if (fL === \".\" || fL === \"#\") {\n                if (this.s.subHtmlSelectorRelative && !this.s.dynamic) {\n                    subHtml = currentEle.querySelector(subHtml).innerHTML;\n                } else {\n                    subHtml = document.querySelector(subHtml).innerHTML;\n                }\n            }\n        } else {\n            subHtml = \"\";\n        }\n        if (this.s.appendSubHtmlTo === \".lg-sub-html\") {\n            this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML = subHtml;\n        } else {\n            this.___slide[index].insertAdjacentHTML(\"beforeend\", subHtml);\n        }\n        // Add lg-empty-html class if title doesn't exist\n        if (typeof subHtml !== \"undefined\" && subHtml !== null) {\n            if (subHtml === \"\") {\n                _lgUtils2.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo), \"lg-empty-html\");\n            } else {\n                _lgUtils2.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo), \"lg-empty-html\");\n            }\n        }\n        _lgUtils2.default.trigger(this.el, \"onAfterAppendSubHtml\", {\n            index: index\n        });\n    };\n    /**\n     *  @desc Preload slides\n     *  @param {Number} index - index of the slide\n     */ Plugin.prototype.preload = function(index) {\n        var i = 1;\n        var j = 1;\n        for(i = 1; i <= this.s.preload; i++){\n            if (i >= this.items.length - index) {\n                break;\n            }\n            this.loadContent(index + i, false, 0);\n        }\n        for(j = 1; j <= this.s.preload; j++){\n            if (index - j < 0) {\n                break;\n            }\n            this.loadContent(index - j, false, 0);\n        }\n    };\n    /**\n     *  @desc Load slide content into slide.\n     *  @param {Number} index - index of the slide.\n     *  @param {Boolean} rec - if true call loadcontent() function again.\n     *  @param {Boolean} delay - delay for adding complete class. it is 0 except first time.\n     */ Plugin.prototype.loadContent = function(index, rec, delay) {\n        var _this = this;\n        var _hasPoster = false;\n        var _img;\n        var _src;\n        var _poster;\n        var _srcset;\n        var _sizes;\n        var _html;\n        var _alt;\n        var getResponsiveSrc = function getResponsiveSrc(srcItms) {\n            var rsWidth = [];\n            var rsSrc = [];\n            for(var i = 0; i < srcItms.length; i++){\n                var __src = srcItms[i].split(\" \");\n                // Manage empty space\n                if (__src[0] === \"\") {\n                    __src.splice(0, 1);\n                }\n                rsSrc.push(__src[0]);\n                rsWidth.push(__src[1]);\n            }\n            var wWidth = window.innerWidth;\n            for(var j = 0; j < rsWidth.length; j++){\n                if (parseInt(rsWidth[j], 10) > wWidth) {\n                    _src = rsSrc[j];\n                    break;\n                }\n            }\n        };\n        if (_this.s.dynamic) {\n            if (_this.s.dynamicEl[index].poster) {\n                _hasPoster = true;\n                _poster = _this.s.dynamicEl[index].poster;\n            }\n            _html = _this.s.dynamicEl[index].html;\n            _src = _this.s.dynamicEl[index].src;\n            _alt = _this.s.dynamicEl[index].alt;\n            if (_this.s.dynamicEl[index].responsive) {\n                var srcDyItms = _this.s.dynamicEl[index].responsive.split(\",\");\n                getResponsiveSrc(srcDyItms);\n            }\n            _srcset = _this.s.dynamicEl[index].srcset;\n            _sizes = _this.s.dynamicEl[index].sizes;\n        } else {\n            if (_this.items[index].getAttribute(\"data-poster\")) {\n                _hasPoster = true;\n                _poster = _this.items[index].getAttribute(\"data-poster\");\n            }\n            _html = _this.items[index].getAttribute(\"data-html\");\n            _src = _this.items[index].getAttribute(\"href\") || _this.items[index].getAttribute(\"data-src\");\n            _alt = _this.items[index].getAttribute(\"title\");\n            if (_this.items[index].querySelector(\"img\")) {\n                _alt = _alt || _this.items[index].querySelector(\"img\").getAttribute(\"alt\");\n            }\n            if (_this.items[index].getAttribute(\"data-responsive\")) {\n                var srcItms = _this.items[index].getAttribute(\"data-responsive\").split(\",\");\n                getResponsiveSrc(srcItms);\n            }\n            _srcset = _this.items[index].getAttribute(\"data-srcset\");\n            _sizes = _this.items[index].getAttribute(\"data-sizes\");\n        }\n        //if (_src || _srcset || _sizes || _poster) {\n        var iframe = false;\n        if (_this.s.dynamic) {\n            if (_this.s.dynamicEl[index].iframe) {\n                iframe = true;\n            }\n        } else {\n            if (_this.items[index].getAttribute(\"data-iframe\") === \"true\") {\n                iframe = true;\n            }\n        }\n        var _isVideo = _this.isVideo(_src, index);\n        if (!_lgUtils2.default.hasClass(_this.___slide[index], \"lg-loaded\")) {\n            if (iframe) {\n                _this.___slide[index].insertAdjacentHTML(\"afterbegin\", '<div class=\"lg-video-cont\" style=\"max-width:' + _this.s.iframeMaxWidth + '\"><div class=\"lg-video\"><iframe class=\"lg-object\" frameborder=\"0\" src=\"' + _src + '\"  allowfullscreen=\"true\"></iframe></div></div>');\n            } else if (_hasPoster) {\n                var videoClass = \"\";\n                if (_isVideo && _isVideo.youtube) {\n                    videoClass = \"lg-has-youtube\";\n                } else if (_isVideo && _isVideo.vimeo) {\n                    videoClass = \"lg-has-vimeo\";\n                } else {\n                    videoClass = \"lg-has-html5\";\n                }\n                _this.___slide[index].insertAdjacentHTML(\"beforeend\", '<div class=\"lg-video-cont ' + videoClass + ' \"><div class=\"lg-video\"><span class=\"lg-video-play\"></span><img class=\"lg-object lg-has-poster\" src=\"' + _poster + '\" /></div></div>');\n            } else if (_isVideo) {\n                _this.___slide[index].insertAdjacentHTML(\"beforeend\", '<div class=\"lg-video-cont \"><div class=\"lg-video\"></div></div>');\n                _lgUtils2.default.trigger(_this.el, \"hasVideo\", {\n                    index: index,\n                    src: _src,\n                    html: _html\n                });\n            } else {\n                _alt = _alt ? 'alt=\"' + _alt + '\"' : \"\";\n                _this.___slide[index].insertAdjacentHTML(\"beforeend\", '<div class=\"lg-img-wrap\"><img class=\"lg-object lg-image\" ' + _alt + ' src=\"' + _src + '\" /></div>');\n            }\n            _lgUtils2.default.trigger(_this.el, \"onAferAppendSlide\", {\n                index: index\n            });\n            _img = _this.___slide[index].querySelector(\".lg-object\");\n            if (_sizes) {\n                _img.setAttribute(\"sizes\", _sizes);\n            }\n            if (_srcset) {\n                _img.setAttribute(\"srcset\", _srcset);\n                if (this.s.supportLegacyBrowser) {\n                    try {\n                        picturefill({\n                            elements: [\n                                _img[0]\n                            ]\n                        });\n                    } catch (e) {\n                        console.warn(\"If you want srcset to be supported for older browsers, \" + \"please include picturefil javascript library in your document.\");\n                    }\n                }\n            }\n            if (this.s.appendSubHtmlTo !== \".lg-sub-html\") {\n                _this.addHtml(index);\n            }\n            _lgUtils2.default.addClass(_this.___slide[index], \"lg-loaded\");\n        }\n        _lgUtils2.default.on(_this.___slide[index].querySelector(\".lg-object\"), \"load.lg error.lg\", function() {\n            // For first time add some delay for displaying the start animation.\n            var _speed = 0;\n            // Do not change the delay value because it is required for zoom plugin.\n            // If gallery opened from direct url (hash) speed value should be 0\n            if (delay && !_lgUtils2.default.hasClass(document.body, \"lg-from-hash\")) {\n                _speed = delay;\n            }\n            setTimeout(function() {\n                _lgUtils2.default.addClass(_this.___slide[index], \"lg-complete\");\n                _lgUtils2.default.trigger(_this.el, \"onSlideItemLoad\", {\n                    index: index,\n                    delay: delay || 0\n                });\n            }, _speed);\n        });\n        // @todo check load state for html5 videos\n        if (_isVideo && _isVideo.html5 && !_hasPoster) {\n            _lgUtils2.default.addClass(_this.___slide[index], \"lg-complete\");\n        }\n        if (rec === true) {\n            if (!_lgUtils2.default.hasClass(_this.___slide[index], \"lg-complete\")) {\n                _lgUtils2.default.on(_this.___slide[index].querySelector(\".lg-object\"), \"load.lg error.lg\", function() {\n                    _this.preload(index);\n                });\n            } else {\n                _this.preload(index);\n            }\n        }\n    //}\n    };\n    /**\n    *   @desc slide function for lightgallery\n        ** Slide() gets call on start\n        ** ** Set lg.on true once slide() function gets called.\n        ** Call loadContent() on slide() function inside setTimeout\n        ** ** On first slide we do not want any animation like slide of fade\n        ** ** So on first slide( if lg.on if false that is first slide) loadContent() should start loading immediately\n        ** ** Else loadContent() should wait for the transition to complete.\n        ** ** So set timeout s.speed + 50\n    <=> ** loadContent() will load slide content in to the particular slide\n        ** ** It has recursion (rec) parameter. if rec === true loadContent() will call preload() function.\n        ** ** preload will execute only when the previous slide is fully loaded (images iframe)\n        ** ** avoid simultaneous image load\n    <=> ** Preload() will check for s.preload value and call loadContent() again accoring to preload value\n        ** loadContent()  <====> Preload();\n    \n    *   @param {Number} index - index of the slide\n    *   @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\n    *   @param {Boolean} fromThumb - true if slide function called via thumbnail click\n    */ Plugin.prototype.slide = function(index, fromTouch, fromThumb) {\n        var _prevIndex = 0;\n        for(var i = 0; i < this.___slide.length; i++){\n            if (_lgUtils2.default.hasClass(this.___slide[i], \"lg-current\")) {\n                _prevIndex = i;\n                break;\n            }\n        }\n        var _this = this;\n        // Prevent if multiple call\n        // Required for hsh plugin\n        if (_this.lGalleryOn && _prevIndex === index) {\n            return;\n        }\n        var _length = this.___slide.length;\n        var _time = _this.lGalleryOn ? this.s.speed : 0;\n        var _next = false;\n        var _prev = false;\n        if (!_this.lgBusy) {\n            if (this.s.download) {\n                var _src;\n                if (_this.s.dynamic) {\n                    _src = _this.s.dynamicEl[index].downloadUrl !== false && (_this.s.dynamicEl[index].downloadUrl || _this.s.dynamicEl[index].src);\n                } else {\n                    _src = _this.items[index].getAttribute(\"data-download-url\") !== \"false\" && (_this.items[index].getAttribute(\"data-download-url\") || _this.items[index].getAttribute(\"href\") || _this.items[index].getAttribute(\"data-src\"));\n                }\n                if (_src) {\n                    document.getElementById(\"lg-download\").setAttribute(\"href\", _src);\n                    _lgUtils2.default.removeClass(_this.outer, \"lg-hide-download\");\n                } else {\n                    _lgUtils2.default.addClass(_this.outer, \"lg-hide-download\");\n                }\n            }\n            _lgUtils2.default.trigger(_this.el, \"onBeforeSlide\", {\n                prevIndex: _prevIndex,\n                index: index,\n                fromTouch: fromTouch,\n                fromThumb: fromThumb\n            });\n            _this.lgBusy = true;\n            clearTimeout(_this.hideBartimeout);\n            // Add title if this.s.appendSubHtmlTo === lg-sub-html\n            if (this.s.appendSubHtmlTo === \".lg-sub-html\") {\n                // wait for slide animation to complete\n                setTimeout(function() {\n                    _this.addHtml(index);\n                }, _time);\n            }\n            this.arrowDisable(index);\n            if (!fromTouch) {\n                // remove all transitions\n                _lgUtils2.default.addClass(_this.outer, \"lg-no-trans\");\n                for(var j = 0; j < this.___slide.length; j++){\n                    _lgUtils2.default.removeClass(this.___slide[j], \"lg-prev-slide\");\n                    _lgUtils2.default.removeClass(this.___slide[j], \"lg-next-slide\");\n                }\n                if (index < _prevIndex) {\n                    _prev = true;\n                    if (index === 0 && _prevIndex === _length - 1 && !fromThumb) {\n                        _prev = false;\n                        _next = true;\n                    }\n                } else if (index > _prevIndex) {\n                    _next = true;\n                    if (index === _length - 1 && _prevIndex === 0 && !fromThumb) {\n                        _prev = true;\n                        _next = false;\n                    }\n                }\n                if (_prev) {\n                    //prevslide\n                    _lgUtils2.default.addClass(this.___slide[index], \"lg-prev-slide\");\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], \"lg-next-slide\");\n                } else if (_next) {\n                    // next slide\n                    _lgUtils2.default.addClass(this.___slide[index], \"lg-next-slide\");\n                    _lgUtils2.default.addClass(this.___slide[_prevIndex], \"lg-prev-slide\");\n                }\n                // give 50 ms for browser to add/remove class\n                setTimeout(function() {\n                    _lgUtils2.default.removeClass(_this.outer.querySelector(\".lg-current\"), \"lg-current\");\n                    //_this.$slide.eq(_prevIndex).removeClass('lg-current');\n                    _lgUtils2.default.addClass(_this.___slide[index], \"lg-current\");\n                    // reset all transitions\n                    _lgUtils2.default.removeClass(_this.outer, \"lg-no-trans\");\n                }, 50);\n            } else {\n                var touchPrev = index - 1;\n                var touchNext = index + 1;\n                if (index === 0 && _prevIndex === _length - 1) {\n                    // next slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                } else if (index === _length - 1 && _prevIndex === 0) {\n                    // prev slide\n                    touchNext = 0;\n                    touchPrev = _length - 1;\n                }\n                _lgUtils2.default.removeClass(_this.outer.querySelector(\".lg-prev-slide\"), \"lg-prev-slide\");\n                _lgUtils2.default.removeClass(_this.outer.querySelector(\".lg-current\"), \"lg-current\");\n                _lgUtils2.default.removeClass(_this.outer.querySelector(\".lg-next-slide\"), \"lg-next-slide\");\n                _lgUtils2.default.addClass(_this.___slide[touchPrev], \"lg-prev-slide\");\n                _lgUtils2.default.addClass(_this.___slide[touchNext], \"lg-next-slide\");\n                _lgUtils2.default.addClass(_this.___slide[index], \"lg-current\");\n            }\n            if (_this.lGalleryOn) {\n                setTimeout(function() {\n                    _this.loadContent(index, true, 0);\n                }, this.s.speed + 50);\n                setTimeout(function() {\n                    _this.lgBusy = false;\n                    _lgUtils2.default.trigger(_this.el, \"onAfterSlide\", {\n                        prevIndex: _prevIndex,\n                        index: index,\n                        fromTouch: fromTouch,\n                        fromThumb: fromThumb\n                    });\n                }, this.s.speed);\n            } else {\n                _this.loadContent(index, true, _this.s.backdropDuration);\n                _this.lgBusy = false;\n                _lgUtils2.default.trigger(_this.el, \"onAfterSlide\", {\n                    prevIndex: _prevIndex,\n                    index: index,\n                    fromTouch: fromTouch,\n                    fromThumb: fromThumb\n                });\n            }\n            _this.lGalleryOn = true;\n            if (this.s.counter) {\n                if (document.getElementById(\"lg-counter-current\")) {\n                    document.getElementById(\"lg-counter-current\").innerHTML = index + 1;\n                }\n            }\n        }\n    };\n    /**\n     *  @desc Go to next slide\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\n     */ Plugin.prototype.goToNextSlide = function(fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index + 1 < _this.___slide.length) {\n                _this.index++;\n                _lgUtils2.default.trigger(_this.el, \"onBeforeNextSlide\", {\n                    index: _this.index\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = 0;\n                    _lgUtils2.default.trigger(_this.el, \"onBeforeNextSlide\", {\n                        index: _this.index\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, \"lg-right-end\");\n                    setTimeout(function() {\n                        _lgUtils2.default.removeClass(_this.outer, \"lg-right-end\");\n                    }, 400);\n                }\n            }\n        }\n    };\n    /**\n     *  @desc Go to previous slide\n     *  @param {Boolean} fromTouch - true if slide function called via touch event\n     */ Plugin.prototype.goToPrevSlide = function(fromTouch) {\n        var _this = this;\n        if (!_this.lgBusy) {\n            if (_this.index > 0) {\n                _this.index--;\n                _lgUtils2.default.trigger(_this.el, \"onBeforePrevSlide\", {\n                    index: _this.index,\n                    fromTouch: fromTouch\n                });\n                _this.slide(_this.index, fromTouch, false);\n            } else {\n                if (_this.s.loop) {\n                    _this.index = _this.items.length - 1;\n                    _lgUtils2.default.trigger(_this.el, \"onBeforePrevSlide\", {\n                        index: _this.index,\n                        fromTouch: fromTouch\n                    });\n                    _this.slide(_this.index, fromTouch, false);\n                } else if (_this.s.slideEndAnimatoin) {\n                    _lgUtils2.default.addClass(_this.outer, \"lg-left-end\");\n                    setTimeout(function() {\n                        _lgUtils2.default.removeClass(_this.outer, \"lg-left-end\");\n                    }, 400);\n                }\n            }\n        }\n    };\n    Plugin.prototype.keyPress = function() {\n        var _this = this;\n        if (this.items.length > 1) {\n            _lgUtils2.default.on(window, \"keyup.lg\", function(e) {\n                if (_this.items.length > 1) {\n                    if (e.keyCode === 37) {\n                        e.preventDefault();\n                        _this.goToPrevSlide();\n                    }\n                    if (e.keyCode === 39) {\n                        e.preventDefault();\n                        _this.goToNextSlide();\n                    }\n                }\n            });\n        }\n        _lgUtils2.default.on(window, \"keydown.lg\", function(e) {\n            if (_this.s.escKey === true && e.keyCode === 27) {\n                e.preventDefault();\n                if (!_lgUtils2.default.hasClass(_this.outer, \"lg-thumb-open\")) {\n                    _this.destroy();\n                } else {\n                    _lgUtils2.default.removeClass(_this.outer, \"lg-thumb-open\");\n                }\n            }\n        });\n    };\n    Plugin.prototype.arrow = function() {\n        var _this = this;\n        _lgUtils2.default.on(this.outer.querySelector(\".lg-prev\"), \"click.lg\", function() {\n            _this.goToPrevSlide();\n        });\n        _lgUtils2.default.on(this.outer.querySelector(\".lg-next\"), \"click.lg\", function() {\n            _this.goToNextSlide();\n        });\n    };\n    Plugin.prototype.arrowDisable = function(index) {\n        // Disable arrows if s.hideControlOnEnd is true\n        if (!this.s.loop && this.s.hideControlOnEnd) {\n            var next = this.outer.querySelector(\".lg-next\");\n            var prev = this.outer.querySelector(\".lg-prev\");\n            if (index + 1 < this.___slide.length) {\n                next.removeAttribute(\"disabled\");\n                _lgUtils2.default.removeClass(next, \"disabled\");\n            } else {\n                next.setAttribute(\"disabled\", \"disabled\");\n                _lgUtils2.default.addClass(next, \"disabled\");\n            }\n            if (index > 0) {\n                prev.removeAttribute(\"disabled\");\n                _lgUtils2.default.removeClass(prev, \"disabled\");\n            } else {\n                prev.setAttribute(\"disabled\", \"disabled\");\n                _lgUtils2.default.addClass(prev, \"disabled\");\n            }\n        }\n    };\n    Plugin.prototype.setTranslate = function(el, xValue, yValue) {\n        // jQuery supports Automatic CSS prefixing since jQuery 1.8.0\n        if (this.s.useLeft) {\n            el.style.left = xValue;\n        } else {\n            _lgUtils2.default.setVendor(el, \"Transform\", \"translate3d(\" + xValue + \"px, \" + yValue + \"px, 0px)\");\n        }\n    };\n    Plugin.prototype.touchMove = function(startCoords, endCoords) {\n        var distance = endCoords - startCoords;\n        if (Math.abs(distance) > 15) {\n            // reset opacity and transition duration\n            _lgUtils2.default.addClass(this.outer, \"lg-dragging\");\n            // move current slide\n            this.setTranslate(this.___slide[this.index], distance, 0);\n            // move next and prev slide with current slide\n            this.setTranslate(document.querySelector(\".lg-prev-slide\"), -this.___slide[this.index].clientWidth + distance, 0);\n            this.setTranslate(document.querySelector(\".lg-next-slide\"), this.___slide[this.index].clientWidth + distance, 0);\n        }\n    };\n    Plugin.prototype.touchEnd = function(distance) {\n        var _this = this;\n        // keep slide animation for any mode while dragg/swipe\n        if (_this.s.mode !== \"lg-slide\") {\n            _lgUtils2.default.addClass(_this.outer, \"lg-slide\");\n        }\n        for(var i = 0; i < this.___slide.length; i++){\n            if (!_lgUtils2.default.hasClass(this.___slide[i], \"lg-current\") && !_lgUtils2.default.hasClass(this.___slide[i], \"lg-prev-slide\") && !_lgUtils2.default.hasClass(this.___slide[i], \"lg-next-slide\")) {\n                this.___slide[i].style.opacity = \"0\";\n            }\n        }\n        // set transition duration\n        setTimeout(function() {\n            _lgUtils2.default.removeClass(_this.outer, \"lg-dragging\");\n            if (distance < 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToNextSlide(true);\n            } else if (distance > 0 && Math.abs(distance) > _this.s.swipeThreshold) {\n                _this.goToPrevSlide(true);\n            } else if (Math.abs(distance) < 5) {\n                // Trigger click if distance is less than 5 pix\n                _lgUtils2.default.trigger(_this.el, \"onSlideClick\");\n            }\n            for(var i = 0; i < _this.___slide.length; i++){\n                _this.___slide[i].removeAttribute(\"style\");\n            }\n        });\n        // remove slide class once drag/swipe is completed if mode is not slide\n        setTimeout(function() {\n            if (!_lgUtils2.default.hasClass(_this.outer, \"lg-dragging\") && _this.s.mode !== \"lg-slide\") {\n                _lgUtils2.default.removeClass(_this.outer, \"lg-slide\");\n            }\n        }, _this.s.speed + 100);\n    };\n    Plugin.prototype.enableSwipe = function() {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isMoved = false;\n        if (_this.s.enableSwipe && _this.isTouch && _this.doCss()) {\n            for(var i = 0; i < _this.___slide.length; i++){\n                /*jshint loopfunc: true */ _lgUtils2.default.on(_this.___slide[i], \"touchstart.lg\", function(e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, \"lg-zoomed\") && !_this.lgBusy) {\n                        e.preventDefault();\n                        _this.manageSwipeClass();\n                        startCoords = e.targetTouches[0].pageX;\n                    }\n                });\n            }\n            for(var j = 0; j < _this.___slide.length; j++){\n                /*jshint loopfunc: true */ _lgUtils2.default.on(_this.___slide[j], \"touchmove.lg\", function(e) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, \"lg-zoomed\")) {\n                        e.preventDefault();\n                        endCoords = e.targetTouches[0].pageX;\n                        _this.touchMove(startCoords, endCoords);\n                        isMoved = true;\n                    }\n                });\n            }\n            for(var k = 0; k < _this.___slide.length; k++){\n                /*jshint loopfunc: true */ _lgUtils2.default.on(_this.___slide[k], \"touchend.lg\", function() {\n                    if (!_lgUtils2.default.hasClass(_this.outer, \"lg-zoomed\")) {\n                        if (isMoved) {\n                            isMoved = false;\n                            _this.touchEnd(endCoords - startCoords);\n                        } else {\n                            _lgUtils2.default.trigger(_this.el, \"onSlideClick\");\n                        }\n                    }\n                });\n            }\n        }\n    };\n    Plugin.prototype.enableDrag = function() {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isDraging = false;\n        var isMoved = false;\n        if (_this.s.enableDrag && !_this.isTouch && _this.doCss()) {\n            for(var i = 0; i < _this.___slide.length; i++){\n                /*jshint loopfunc: true */ _lgUtils2.default.on(_this.___slide[i], \"mousedown.lg\", function(e) {\n                    // execute only on .lg-object\n                    if (!_lgUtils2.default.hasClass(_this.outer, \"lg-zoomed\")) {\n                        if (_lgUtils2.default.hasClass(e.target, \"lg-object\") || _lgUtils2.default.hasClass(e.target, \"lg-video-play\")) {\n                            e.preventDefault();\n                            if (!_this.lgBusy) {\n                                _this.manageSwipeClass();\n                                startCoords = e.pageX;\n                                isDraging = true;\n                                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                                _this.outer.scrollLeft += 1;\n                                _this.outer.scrollLeft -= 1;\n                                // *\n                                _lgUtils2.default.removeClass(_this.outer, \"lg-grab\");\n                                _lgUtils2.default.addClass(_this.outer, \"lg-grabbing\");\n                                _lgUtils2.default.trigger(_this.el, \"onDragstart\");\n                            }\n                        }\n                    }\n                });\n            }\n            _lgUtils2.default.on(window, \"mousemove.lg\", function(e) {\n                if (isDraging) {\n                    isMoved = true;\n                    endCoords = e.pageX;\n                    _this.touchMove(startCoords, endCoords);\n                    _lgUtils2.default.trigger(_this.el, \"onDragmove\");\n                }\n            });\n            _lgUtils2.default.on(window, \"mouseup.lg\", function(e) {\n                if (isMoved) {\n                    isMoved = false;\n                    _this.touchEnd(endCoords - startCoords);\n                    _lgUtils2.default.trigger(_this.el, \"onDragend\");\n                } else if (_lgUtils2.default.hasClass(e.target, \"lg-object\") || _lgUtils2.default.hasClass(e.target, \"lg-video-play\")) {\n                    _lgUtils2.default.trigger(_this.el, \"onSlideClick\");\n                }\n                // Prevent execution on click\n                if (isDraging) {\n                    isDraging = false;\n                    _lgUtils2.default.removeClass(_this.outer, \"lg-grabbing\");\n                    _lgUtils2.default.addClass(_this.outer, \"lg-grab\");\n                }\n            });\n        }\n    };\n    Plugin.prototype.manageSwipeClass = function() {\n        var touchNext = this.index + 1;\n        var touchPrev = this.index - 1;\n        var length = this.___slide.length;\n        if (this.s.loop) {\n            if (this.index === 0) {\n                touchPrev = length - 1;\n            } else if (this.index === length - 1) {\n                touchNext = 0;\n            }\n        }\n        for(var i = 0; i < this.___slide.length; i++){\n            _lgUtils2.default.removeClass(this.___slide[i], \"lg-next-slide\");\n            _lgUtils2.default.removeClass(this.___slide[i], \"lg-prev-slide\");\n        }\n        if (touchPrev > -1) {\n            _lgUtils2.default.addClass(this.___slide[touchPrev], \"lg-prev-slide\");\n        }\n        _lgUtils2.default.addClass(this.___slide[touchNext], \"lg-next-slide\");\n    };\n    Plugin.prototype.mousewheel = function() {\n        var _this = this;\n        _lgUtils2.default.on(_this.outer, \"mousewheel.lg\", function(e) {\n            if (!e.deltaY) {\n                return;\n            }\n            if (e.deltaY > 0) {\n                _this.goToPrevSlide();\n            } else {\n                _this.goToNextSlide();\n            }\n            e.preventDefault();\n        });\n    };\n    Plugin.prototype.closeGallery = function() {\n        var _this = this;\n        var mousedown = false;\n        _lgUtils2.default.on(this.outer.querySelector(\".lg-close\"), \"click.lg\", function() {\n            _this.destroy();\n        });\n        if (_this.s.closable) {\n            // If you drag the slide and release outside gallery gets close on chrome\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\n            _lgUtils2.default.on(_this.outer, \"mousedown.lg\", function(e) {\n                if (_lgUtils2.default.hasClass(e.target, \"lg-outer\") || _lgUtils2.default.hasClass(e.target, \"lg-item\") || _lgUtils2.default.hasClass(e.target, \"lg-img-wrap\")) {\n                    mousedown = true;\n                } else {\n                    mousedown = false;\n                }\n            });\n            _lgUtils2.default.on(_this.outer, \"mouseup.lg\", function(e) {\n                if (_lgUtils2.default.hasClass(e.target, \"lg-outer\") || _lgUtils2.default.hasClass(e.target, \"lg-item\") || _lgUtils2.default.hasClass(e.target, \"lg-img-wrap\") && mousedown) {\n                    if (!_lgUtils2.default.hasClass(_this.outer, \"lg-dragging\")) {\n                        _this.destroy();\n                    }\n                }\n            });\n        }\n    };\n    Plugin.prototype.destroy = function(d) {\n        var _this = this;\n        if (!d) {\n            _lgUtils2.default.trigger(_this.el, \"onBeforeClose\");\n        }\n        document.body.scrollTop = _this.prevScrollTop;\n        document.documentElement.scrollTop = _this.prevScrollTop;\n        /**\n         * if d is false or undefined destroy will only close the gallery\n         * plugins instance remains with the element\n         *\n         * if d is true destroy will completely remove the plugin\n         */ if (d) {\n            if (!_this.s.dynamic) {\n                // only when not using dynamic mode is $items a jquery collection\n                for(var i = 0; i < this.items.length; i++){\n                    _lgUtils2.default.off(this.items[i], \".lg\");\n                    _lgUtils2.default.off(this.items[i], \".lgcustom\");\n                }\n            }\n            var lguid = _this.el.getAttribute(\"lg-uid\");\n            delete window.lgData[lguid];\n            _this.el.removeAttribute(\"lg-uid\");\n        }\n        // Unbind all events added by lightGallery\n        _lgUtils2.default.off(this.el, \".lgtm\");\n        // Distroy all lightGallery modules\n        for(var key in window.lgModules){\n            if (_this.modules[key]) {\n                _this.modules[key].destroy(d);\n            }\n        }\n        this.lGalleryOn = false;\n        clearTimeout(_this.hideBartimeout);\n        this.hideBartimeout = false;\n        _lgUtils2.default.off(window, \".lg\");\n        _lgUtils2.default.removeClass(document.body, \"lg-on\");\n        _lgUtils2.default.removeClass(document.body, \"lg-from-hash\");\n        if (_this.outer) {\n            _lgUtils2.default.removeClass(_this.outer, \"lg-visible\");\n        }\n        _lgUtils2.default.removeClass(document.querySelector(\".lg-backdrop\"), \"in\");\n        setTimeout(function() {\n            try {\n                if (_this.outer) {\n                    _this.outer.parentNode.removeChild(_this.outer);\n                }\n                if (document.querySelector(\".lg-backdrop\")) {\n                    document.querySelector(\".lg-backdrop\").parentNode.removeChild(document.querySelector(\".lg-backdrop\"));\n                }\n                if (!d) {\n                    _lgUtils2.default.trigger(_this.el, \"onCloseAfter\");\n                }\n                _this.el.focus();\n            } catch (err) {}\n        }, _this.s.backdropDuration + 50);\n    };\n    window.lightGallery = function(el, options) {\n        if (!el) {\n            return;\n        }\n        try {\n            if (!el.getAttribute(\"lg-uid\")) {\n                var uid = \"lg\" + window.lgData.uid++;\n                window.lgData[uid] = new Plugin(el, options);\n                el.setAttribute(\"lg-uid\", uid);\n            } else {\n                window.lgData[el.getAttribute(\"lg-uid\")].init();\n            }\n        } catch (err) {\n            console.error(\"lightGallery has not initiated properly\", err);\n        }\n    };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbGlnaHRnYWxsZXJ5LmpzL2xpYi9qcy9saWdodGdhbGxlcnkuanMiLCJtYXBwaW5ncyI6IkFBQUMsMEdBQVVBLE1BQU0sRUFBRUMsT0FBTztJQUN0QixJQUFJLElBQTBDLEVBQUU7UUFDNUNDLGlDQUFPO1lBQUM7U0FBYSxvQ0FBRUQsT0FBT0E7QUFBQTtBQUFBO0FBQUEsa0dBQUNBO0lBQ25DLE9BQU8sWUFRTjtBQUNMLEdBQUcsSUFBSSxFQUFFLFNBQVVRLFFBQVE7SUFDdkI7SUFFQSxJQUFJQyxZQUFZQyx1QkFBdUJGO0lBRXZDLFNBQVNFLHVCQUF1QkMsR0FBRztRQUMvQixPQUFPQSxPQUFPQSxJQUFJQyxVQUFVLEdBQUdELE1BQU07WUFDakNFLFNBQVNGO1FBQ2I7SUFDSjtJQUVBLElBQUlHLFdBQVdDLE9BQU9DLE1BQU0sSUFBSSxTQUFVQyxNQUFNO1FBQzVDLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJQyxVQUFVQyxNQUFNLEVBQUVGLElBQUs7WUFDdkMsSUFBSUcsU0FBU0YsU0FBUyxDQUFDRCxFQUFFO1lBRXpCLElBQUssSUFBSUksT0FBT0QsT0FBUTtnQkFDcEIsSUFBSU4sT0FBT1EsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ0osUUFBUUMsTUFBTTtvQkFDbkRMLE1BQU0sQ0FBQ0ssSUFBSSxHQUFHRCxNQUFNLENBQUNDLElBQUk7Z0JBQzdCO1lBQ0o7UUFDSjtRQUVBLE9BQU9MO0lBQ1g7SUFFQSwyRkFBMkYsR0FDMUY7UUFFRyxJQUFJLE9BQU9TLE9BQU9DLFdBQVcsS0FBSyxZQUFZO1lBQzFDLE9BQU87UUFDWDtRQUVBLFNBQVNBLFlBQVlDLEtBQUssRUFBRUMsTUFBTTtZQUM5QkEsU0FBU0EsVUFBVTtnQkFDZkMsU0FBUztnQkFDVEMsWUFBWTtnQkFDWkMsUUFBUUM7WUFDWjtZQUNBLElBQUlDLE1BQU1DLFNBQVNDLFdBQVcsQ0FBQztZQUMvQkYsSUFBSUcsZUFBZSxDQUFDVCxPQUFPQyxP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U0FBU2tFLGFBQWEsQ0FBQyxnQkFBZ0IrSSxVQUFVLENBQUNDLFdBQVcsQ0FBQ2xOLFNBQVNrRSxhQUFhLENBQUM7Z0JBQ3pGO2dCQUVBLElBQUksQ0FBQzRJLEdBQUc7b0JBQ0p4TyxVQUFVSSxPQUFPLENBQUN5RyxPQUFPLENBQUNYLE1BQU1sQixFQUFFLEVBQUU7Z0JBQ3hDO2dCQUNBa0IsTUFBTWxCLEVBQUUsQ0FBQzZDLEtBQUs7WUFDbEIsRUFBRSxPQUFPZ0gsS0FBSyxDQUFDO1FBQ25CLEdBQUczSSxNQUFNakIsQ0FBQyxDQUFDdEMsZ0JBQWdCLEdBQUc7SUFDbEM7SUFFQTFCLE9BQU82TixZQUFZLEdBQUcsU0FBVTlKLEVBQUUsRUFBRUQsT0FBTztRQUN2QyxJQUFJLENBQUNDLElBQUk7WUFDTDtRQUNKO1FBRUEsSUFBSTtZQUNBLElBQUksQ0FBQ0EsR0FBRzhELFlBQVksQ0FBQyxXQUFXO2dCQUM1QixJQUFJOUcsTUFBTSxPQUFPZixPQUFPYyxNQUFNLENBQUNDLEdBQUc7Z0JBQ2xDZixPQUFPYyxNQUFNLENBQUNDLElBQUksR0FBRyxJQUFJNkMsT0FBT0csSUFBSUQ7Z0JBQ3BDQyxHQUFHd0csWUFBWSxDQUFDLFVBQVV4SjtZQUM5QixPQUFPO2dCQUNIZixPQUFPYyxNQUFNLENBQUNpRCxHQUFHOEQsWUFBWSxDQUFDLFVBQVUsQ0FBQzdDLElBQUk7WUFDakQ7UUFDSixFQUFFLE9BQU80SSxLQUFLO1lBQ1ZsRCxRQUFRb0QsS0FBSyxDQUFDLDJDQUEyQ0Y7UUFDN0Q7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhcnR1cC1uZXh0anMtdGVtcGxhdGUvLi9ub2RlX21vZHVsZXMvbGlnaHRnYWxsZXJ5LmpzL2xpYi9qcy9saWdodGdhbGxlcnkuanM/ZmExNyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWycuL2xnLXV0aWxzJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZmFjdG9yeShyZXF1aXJlKCcuL2xnLXV0aWxzJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KGdsb2JhbC5sZ1V0aWxzKTtcbiAgICAgICAgZ2xvYmFsLmxpZ2h0Z2FsbGVyeSA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChfbGdVdGlscykge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBfbGdVdGlsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sZ1V0aWxzKTtcblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XG4gICAgICAgICAgICBkZWZhdWx0OiBvYmpcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKiBQb2x5ZmlsbCB0aGUgQ3VzdG9tRXZlbnQoKSBjb25zdHJ1Y3RvciBmdW5jdGlvbmFsaXR5IGluIEludGVybmV0IEV4cGxvcmVyIDkgYW5kIGhpZ2hlciAqL1xuICAgIChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7XG4gICAgICAgICAgICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGV0YWlsOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50LCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwpO1xuICAgICAgICAgICAgcmV0dXJuIGV2dDtcbiAgICAgICAgfVxuXG4gICAgICAgIEN1c3RvbUV2ZW50LnByb3RvdHlwZSA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGU7XG5cbiAgICAgICAgd2luZG93LkN1c3RvbUV2ZW50ID0gQ3VzdG9tRXZlbnQ7XG4gICAgfSkoKTtcblxuICAgIHdpbmRvdy51dGlscyA9IF9sZ1V0aWxzMi5kZWZhdWx0O1xuICAgIHdpbmRvdy5sZ0RhdGEgPSB7XG4gICAgICAgIHVpZDogMFxuICAgIH07XG5cbiAgICB3aW5kb3cubGdNb2R1bGVzID0ge307XG4gICAgdmFyIGRlZmF1bHRzID0ge1xuXG4gICAgICAgIG1vZGU6ICdsZy1zbGlkZScsXG5cbiAgICAgICAgLy8gRXggOiAnZWFzZSdcbiAgICAgICAgY3NzRWFzaW5nOiAnZWFzZScsXG5cbiAgICAgICAgLy8nZm9yIGpxdWVyeSBhbmltYXRpb24nXG4gICAgICAgIGVhc2luZzogJ2xpbmVhcicsXG4gICAgICAgIHNwZWVkOiA2MDAsXG4gICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICBhZGRDbGFzczogJycsXG4gICAgICAgIHN0YXJ0Q2xhc3M6ICdsZy1zdGFydC16b29tJyxcbiAgICAgICAgYmFja2Ryb3BEdXJhdGlvbjogMTUwLFxuXG4gICAgICAgIC8vIFNldCAwLCBpZiB1IGRvbid0IHdhbnQgdG8gaGlkZSB0aGUgY29udHJvbHMgXG4gICAgICAgIGhpZGVCYXJzRGVsYXk6IDYwMDAsXG5cbiAgICAgICAgdXNlTGVmdDogZmFsc2UsXG5cbiAgICAgICAgLy8gYXJpYS1sYWJlbGxlZGJ5IGF0dHJpYnV0ZSBmb3QgZ2FsbGVyeVxuICAgICAgICBhcmlhTGFiZWxsZWRieTogJycsXG5cbiAgICAgICAgLy9hcmlhLWRlc2NyaWJlZGJ5IGF0dHJpYnV0ZSBmb3IgZ2FsbGVyeVxuICAgICAgICBhcmlhRGVzY3JpYmVkYnk6ICcnLFxuXG4gICAgICAgIGNsb3NhYmxlOiB0cnVlLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICBlc2NLZXk6IHRydWUsXG4gICAgICAgIGtleVByZXNzOiB0cnVlLFxuICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgc2xpZGVFbmRBbmltYXRvaW46IHRydWUsXG4gICAgICAgIGhpZGVDb250cm9sT25FbmQ6IGZhbHNlLFxuICAgICAgICBtb3VzZXdoZWVsOiBmYWxzZSxcblxuICAgICAgICBnZXRDYXB0aW9uRnJvbVRpdGxlT3JBbHQ6IHRydWUsXG5cbiAgICAgICAgLy8gLmxnLWl0ZW0gfHwgJy5sZy1zdWItaHRtbCdcbiAgICAgICAgYXBwZW5kU3ViSHRtbFRvOiAnLmxnLXN1Yi1odG1sJyxcblxuICAgICAgICBzdWJIdG1sU2VsZWN0b3JSZWxhdGl2ZTogZmFsc2UsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjIG51bWJlciBvZiBwcmVsb2FkIHNsaWRlc1xuICAgICAgICAgKiB3aWxsIGV4aWN1dGUgb25seSBhZnRlciB0aGUgY3VycmVudCBzbGlkZSBpcyBmdWxseSBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBleCB5b3UgY2xpY2tlZCBvbiA0dGggaW1hZ2UgYW5kIGlmIHByZWxvYWQgPSAxIHRoZW4gM3JkIHNsaWRlIGFuZCA1dGhcbiAgICAgICAgICogc2xpZGUgd2lsbCBiZSBsb2FkZWQgaW4gdGhlIGJhY2tncm91bmQgYWZ0ZXIgdGhlIDR0aCBzbGlkZSBpcyBmdWxseSBsb2FkZWQuLlxuICAgICAgICAgKiBpZiBwcmVsb2FkIGlzIDIgdGhlbiAybmQgM3JkIDV0aCA2dGggc2xpZGVzIHdpbGwgYmUgcHJlbG9hZGVkLi4gLi4uIC4uLlxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgcHJlbG9hZDogMSxcbiAgICAgICAgc2hvd0FmdGVyTG9hZDogdHJ1ZSxcbiAgICAgICAgc2VsZWN0b3I6ICcnLFxuICAgICAgICBzZWxlY3RXaXRoaW46ICcnLFxuICAgICAgICBuZXh0SHRtbDogJycsXG4gICAgICAgIHByZXZIdG1sOiAnJyxcblxuICAgICAgICAvLyAwLCAxXG4gICAgICAgIGluZGV4OiBmYWxzZSxcblxuICAgICAgICBpZnJhbWVNYXhXaWR0aDogJzEwMCUnLFxuXG4gICAgICAgIGRvd25sb2FkOiB0cnVlLFxuICAgICAgICBjb3VudGVyOiB0cnVlLFxuICAgICAgICBhcHBlbmRDb3VudGVyVG86ICcubGctdG9vbGJhcicsXG5cbiAgICAgICAgc3dpcGVUaHJlc2hvbGQ6IDUwLFxuICAgICAgICBlbmFibGVTd2lwZTogdHJ1ZSxcbiAgICAgICAgZW5hYmxlRHJhZzogdHJ1ZSxcblxuICAgICAgICBkeW5hbWljOiBmYWxzZSxcbiAgICAgICAgZHluYW1pY0VsOiBbXSxcbiAgICAgICAgZ2FsbGVyeUlkOiAxLFxuICAgICAgICBzdXBwb3J0TGVnYWN5QnJvd3NlcjogdHJ1ZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuXG4gICAgICAgIC8vIEN1cnJlbnQgbGlnaHRHYWxsZXJ5IGVsZW1lbnRcbiAgICAgICAgdGhpcy5lbCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgLy8gbGlnaHRHYWxsZXJ5IHNldHRpbmdzXG4gICAgICAgIHRoaXMucyA9IF9leHRlbmRzKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gV2hlbiB1c2luZyBkeW5hbWljIG1vZGUsIGVuc3VyZSBkeW5hbWljRWwgaXMgYW4gYXJyYXlcbiAgICAgICAgaWYgKHRoaXMucy5keW5hbWljICYmIHRoaXMucy5keW5hbWljRWwgIT09ICd1bmRlZmluZWQnICYmIHRoaXMucy5keW5hbWljRWwuY29uc3RydWN0b3IgPT09IEFycmF5ICYmICF0aGlzLnMuZHluYW1pY0VsLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgJ1doZW4gdXNpbmcgZHluYW1pYyBtb2RlLCB5b3UgbXVzdCBhbHNvIGRlZmluZSBkeW5hbWljRWwgYXMgYW4gQXJyYXkuJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxpZ2h0R2FsbGVyeSBtb2R1bGVzXG4gICAgICAgIHRoaXMubW9kdWxlcyA9IHt9O1xuXG4gICAgICAgIC8vIGZhbHNlIHdoZW4gbGlnaHRnYWxsZXJ5IGNvbXBsZXRlIGZpcnN0IHNsaWRlO1xuICAgICAgICB0aGlzLmxHYWxsZXJ5T24gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmxnQnVzeSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFRpbWVvdXQgZnVuY3Rpb24gZm9yIGhpZGluZyBjb250cm9scztcbiAgICAgICAgdGhpcy5oaWRlQmFydGltZW91dCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFRvIGRldGVybWluZSBicm93c2VyIHN1cHBvcnRzIGZvciB0b3VjaCBldmVudHM7XG4gICAgICAgIHRoaXMuaXNUb3VjaCA9ICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgICAvLyBEaXNhYmxlIGhpZGVDb250cm9sT25FbmQgaWYgc2lsZGVFbmRBbmltYXRpb24gaXMgdHJ1ZVxuICAgICAgICBpZiAodGhpcy5zLnNsaWRlRW5kQW5pbWF0b2luKSB7XG4gICAgICAgICAgICB0aGlzLnMuaGlkZUNvbnRyb2xPbkVuZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuXG4gICAgICAgIC8vIEdhbGxlcnkgaXRlbXNcbiAgICAgICAgaWYgKHRoaXMucy5keW5hbWljKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5zLmR5bmFtaWNFbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnMuc2VsZWN0b3IgPT09ICd0aGlzJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaCh0aGlzLmVsKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zLnNlbGVjdG9yICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnMuc2VsZWN0V2l0aGluKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMucy5zZWxlY3RXaXRoaW4pLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5zLnNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMucy5zZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5lbC5jaGlsZHJlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC5sZy1pdGVtXG5cbiAgICAgICAgdGhpcy5fX19zbGlkZSA9ICcnO1xuXG4gICAgICAgIC8vIC5sZy1vdXRlclxuICAgICAgICB0aGlzLm91dGVyID0gJyc7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgUGx1Z2luLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgLy8gcy5wcmVsb2FkIHNob3VsZCBub3QgYmUgbW9yZSB0aGFuICRpdGVtLmxlbmd0aFxuICAgICAgICBpZiAoX3RoaXMucy5wcmVsb2FkID4gX3RoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBfdGhpcy5zLnByZWxvYWQgPSBfdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBkeW5hbWljIG9wdGlvbiBpcyBlbmFibGVkIGV4ZWN1dGUgaW1tZWRpYXRlbHlcbiAgICAgICAgdmFyIF9oYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgICAgIGlmIChfaGFzaC5pbmRleE9mKCdsZz0nICsgdGhpcy5zLmdhbGxlcnlJZCkgPiAwKSB7XG5cbiAgICAgICAgICAgIF90aGlzLmluZGV4ID0gcGFyc2VJbnQoX2hhc2guc3BsaXQoJyZzbGlkZT0nKVsxXSwgMTApO1xuXG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAnbGctZnJvbS1oYXNoJyk7XG4gICAgICAgICAgICBpZiAoIV9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKGRvY3VtZW50LmJvZHksICdsZy1vbicpKSB7XG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xnLW9uJyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmJ1aWxkKF90aGlzLmluZGV4KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpcy5zLmR5bmFtaWMpIHtcblxuICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQudHJpZ2dlcih0aGlzLmVsLCAnb25CZWZvcmVPcGVuJyk7XG5cbiAgICAgICAgICAgIF90aGlzLmluZGV4ID0gX3RoaXMucy5pbmRleCB8fCAwO1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IGFjY2lkZW50YWwgZG91YmxlIGV4ZWN1dGlvblxuICAgICAgICAgICAgaWYgKCFfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyhkb2N1bWVudC5ib2R5LCAnbGctb24nKSkge1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKGRvY3VtZW50LmJvZHksICdsZy1vbicpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5idWlsZChfdGhpcy5pbmRleCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgICAgIC8qanNoaW50IGxvb3BmdW5jOiB0cnVlICovXG4gICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChpbmRleCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIGRpZmZlcmVudCBuYW1lc3BhY2UgZm9yIGNsaWNrIGJlY2F1c2UgY2xpY2sgZXZlbnQgc2hvdWxkIG5vdCB1bmJpbmQgaWYgc2VsZWN0b3IgaXMgc2FtZSBvYmplY3QoJ3RoaXMnKVxuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5vbihfdGhpcy5pdGVtc1tpbmRleF0sICdjbGljay5sZ2N1c3RvbScsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQudHJpZ2dlcihfdGhpcy5lbCwgJ29uQmVmb3JlT3BlbicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmRleCA9IF90aGlzLnMuaW5kZXggfHwgaW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xnLW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5idWlsZChfdGhpcy5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xnLW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFBsdWdpbi5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcblxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIF90aGlzLnN0cnVjdHVyZSgpO1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB3aW5kb3cubGdNb2R1bGVzKSB7XG4gICAgICAgICAgICBfdGhpcy5tb2R1bGVzW2tleV0gPSBuZXcgd2luZG93LmxnTW9kdWxlc1trZXldKF90aGlzLmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluaXRpYXRlIHNsaWRlIGZ1bmN0aW9uXG4gICAgICAgIF90aGlzLnNsaWRlKGluZGV4LCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgIGlmIChfdGhpcy5zLmtleVByZXNzKSB7XG4gICAgICAgICAgICBfdGhpcy5rZXlQcmVzcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcblxuICAgICAgICAgICAgX3RoaXMuYXJyb3coKTtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW5hYmxlRHJhZygpO1xuICAgICAgICAgICAgICAgIF90aGlzLmVuYWJsZVN3aXBlKCk7XG4gICAgICAgICAgICB9LCA1MCk7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5zLm1vdXNld2hlZWwpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5tb3VzZXdoZWVsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5jb3VudGVyKCk7XG5cbiAgICAgICAgX3RoaXMuY2xvc2VHYWxsZXJ5KCk7XG5cbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQudHJpZ2dlcihfdGhpcy5lbCwgJ29uQWZ0ZXJPcGVuJyk7XG5cbiAgICAgICAgLy8gSGlkZSBjb250cm9sbGVycyBpZiBtb3VzZSBkb2Vzbid0IG1vdmUgZm9yIHNvbWUgcGVyaW9kXG4gICAgICAgIGlmIChfdGhpcy5zLmhpZGVCYXJzRGVsYXkgPiAwKSB7XG5cbiAgICAgICAgICAgIC8vIEhpZGUgY29udHJvbHMgaWYgdXNlciBkb2Vzbid0IHVzZSBtb3VzZSBvciB0b3VjaCBhZnRlciBvcGVuaW5nIGdhbGxlcnlcbiAgICAgICAgICAgIHZhciBpbml0aWFsSGlkZUJhclRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLWhpZGUtaXRlbXMnKTtcbiAgICAgICAgICAgIH0sIF90aGlzLnMuaGlkZUJhcnNEZWxheSk7XG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5vbihfdGhpcy5vdXRlciwgJ21vdXNlbW92ZS5sZyBjbGljay5sZyB0b3VjaHN0YXJ0LmxnJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FuY2VsIGluaXRhbEhpZGVCYXJUaW1vdXQgaWYgdXNlciB1c2VzIG1vdXNlIG9yIHRvdWNoIGV2ZW50c1xuICAgICAgICAgICAgICAgIC8vIEJlZm9yZSBpdCBmaXJlc1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpbml0aWFsSGlkZUJhclRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQucmVtb3ZlQ2xhc3MoX3RoaXMub3V0ZXIsICdsZy1oaWRlLWl0ZW1zJyk7XG5cbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuaGlkZUJhcnRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgLy8gVGltZW91dCB3aWxsIGJlIGNsZWFyZWQgb24gZWFjaCBzbGlkZSBtb3ZlbWVudCBhbHNvXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZUJhcnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MoX3RoaXMub3V0ZXIsICdsZy1oaWRlLWl0ZW1zJyk7XG4gICAgICAgICAgICAgICAgfSwgX3RoaXMucy5oaWRlQmFyc0RlbGF5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFBsdWdpbi5wcm90b3R5cGUuc3RydWN0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGlzdCA9ICcnO1xuICAgICAgICB2YXIgY29udHJvbHMgPSAnJztcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB2YXIgc3ViSHRtbENvbnQgPSAnJztcbiAgICAgICAgdmFyIHRlbXBsYXRlO1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cImxnLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG4gICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnNldFZlbmRvcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGctYmFja2Ryb3AnKSwgJ1RyYW5zaXRpb25EdXJhdGlvbicsIHRoaXMucy5iYWNrZHJvcER1cmF0aW9uICsgJ21zJyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGdhbGxlcnkgaXRlbXNcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3QgKz0gJzxkaXYgY2xhc3M9XCJsZy1pdGVtXCI+PC9kaXY+JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBjb250cm9sbHNcbiAgICAgICAgaWYgKHRoaXMucy5jb250cm9scyAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGNvbnRyb2xzID0gJzxkaXYgY2xhc3M9XCJsZy1hY3Rpb25zXCI+JyArICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwiUHJldmlvdXMgc2xpZGVcIiBjbGFzcz1cImxnLXByZXYgbGctaWNvblwiPicgKyB0aGlzLnMucHJldkh0bWwgKyAnPC9idXR0b24+JyArICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwiTmV4dCBzbGlkZVwiIGNsYXNzPVwibGctbmV4dCBsZy1pY29uXCI+JyArIHRoaXMucy5uZXh0SHRtbCArICc8L2J1dHRvbj4nICsgJzwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zLmFwcGVuZFN1Ykh0bWxUbyA9PT0gJy5sZy1zdWItaHRtbCcpIHtcbiAgICAgICAgICAgIHN1Ykh0bWxDb250ID0gJzxkaXYgcm9sZT1cInN0YXR1c1wiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiIGNsYXNzPVwibGctc3ViLWh0bWxcIj48L2Rpdj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFyaWFMYWJlbGxlZGJ5ID0gdGhpcy5zLmFyaWFMYWJlbGxlZGJ5ID8gJ2FyaWEtbGFiZWxsZWRieT1cIicgKyB0aGlzLnMuYXJpYUxhYmVsbGVkYnkgKyAnXCInIDogJyc7XG4gICAgICAgIHZhciBhcmlhRGVzY3JpYmVkYnkgPSB0aGlzLnMuYXJpYURlc2NyaWJlZGJ5ID8gJ2FyaWEtZGVzY3JpYmVkYnk9XCInICsgdGhpcy5zLmFyaWFEZXNjcmliZWRieSArICdcIicgOiAnJztcblxuICAgICAgICB0ZW1wbGF0ZSA9ICc8ZGl2IHRhYmluZGV4PVwiLTFcIiBhcmlhLW1vZGFsPVwidHJ1ZVwiICcgKyBhcmlhTGFiZWxsZWRieSArICcgJyArIGFyaWFEZXNjcmliZWRieSArICcgcm9sZT1cImRpYWxvZ1wiIGNsYXNzPVwibGctb3V0ZXIgJyArIHRoaXMucy5hZGRDbGFzcyArICcgJyArIHRoaXMucy5zdGFydENsYXNzICsgJ1wiPicgKyAnPGRpdiBjbGFzcz1cImxnXCIgc3R5bGU9XCJ3aWR0aDonICsgdGhpcy5zLndpZHRoICsgJzsgaGVpZ2h0OicgKyB0aGlzLnMuaGVpZ2h0ICsgJ1wiPicgKyAnPGRpdiBjbGFzcz1cImxnLWlubmVyXCI+JyArIGxpc3QgKyAnPC9kaXY+JyArICc8ZGl2IGNsYXNzPVwibGctdG9vbGJhciBsZy1ncm91cFwiPicgKyAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgYXJpYS1sYWJlbD1cIkNsb3NlIGdhbGxlcnlcIiBjbGFzcz1cImxnLWNsb3NlIGxnLWljb25cIj48L2J1dHRvbj4nICsgJzwvZGl2PicgKyBjb250cm9scyArIHN1Ykh0bWxDb250ICsgJzwvZGl2PicgKyAnPC9kaXY+JztcblxuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgdGVtcGxhdGUpO1xuICAgICAgICB0aGlzLm91dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxnLW91dGVyJyk7XG4gICAgICAgIHRoaXMub3V0ZXIuZm9jdXMoKTtcbiAgICAgICAgdGhpcy5fX19zbGlkZSA9IHRoaXMub3V0ZXIucXVlcnlTZWxlY3RvckFsbCgnLmxnLWl0ZW0nKTtcblxuICAgICAgICBpZiAodGhpcy5zLnVzZUxlZnQpIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKHRoaXMub3V0ZXIsICdsZy11c2UtbGVmdCcpO1xuXG4gICAgICAgICAgICAvLyBTZXQgbW9kZSBsZy1zbGlkZSBpZiB1c2UgbGVmdCBpcyB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zLm1vZGUgPSAnbGctc2xpZGUnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5vdXRlciwgJ2xnLXVzZS1jc3MzJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGb3IgZml4ZWQgaGVpZ2h0IGdhbGxlcnlcbiAgICAgICAgX3RoaXMuc2V0VG9wKCk7XG4gICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKHdpbmRvdywgJ3Jlc2l6ZS5sZyBvcmllbnRhdGlvbmNoYW5nZS5sZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnNldFRvcCgpO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYWRkIGNsYXNzIGxnLWN1cnJlbnQgdG8gcmVtb3ZlIGluaXRpYWwgdHJhbnNpdGlvblxuICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLl9fX3NsaWRlW3RoaXMuaW5kZXhdLCAnbGctY3VycmVudCcpO1xuXG4gICAgICAgIC8vIGFkZCBDbGFzcyBmb3IgY3NzIHN1cHBvcnQgYW5kIHRyYW5zaXRpb24gbW9kZVxuICAgICAgICBpZiAodGhpcy5kb0NzcygpKSB7XG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLm91dGVyLCAnbGctY3NzMycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5vdXRlciwgJ2xnLWNzcycpO1xuXG4gICAgICAgICAgICAvLyBTZXQgc3BlZWQgMCBiZWNhdXNlIG5vIGFuaW1hdGlvbiB3aWxsIGhhcHBlbiBpZiBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBjc3MzXG4gICAgICAgICAgICB0aGlzLnMuc3BlZWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5vdXRlciwgdGhpcy5zLm1vZGUpO1xuXG4gICAgICAgIGlmICh0aGlzLnMuZW5hYmxlRHJhZyAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKHRoaXMub3V0ZXIsICdsZy1ncmFiJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zLnNob3dBZnRlckxvYWQpIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKHRoaXMub3V0ZXIsICdsZy1zaG93LWFmdGVyLWxvYWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRvQ3NzKCkpIHtcbiAgICAgICAgICAgIHZhciBpbm5lciA9IHRoaXMub3V0ZXIucXVlcnlTZWxlY3RvcignLmxnLWlubmVyJyk7XG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5zZXRWZW5kb3IoaW5uZXIsICdUcmFuc2l0aW9uVGltaW5nRnVuY3Rpb24nLCB0aGlzLnMuY3NzRWFzaW5nKTtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnNldFZlbmRvcihpbm5lciwgJ1RyYW5zaXRpb25EdXJhdGlvbicsIHRoaXMucy5zcGVlZCArICdtcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGctYmFja2Ryb3AnKSwgJ2luJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MoX3RoaXMub3V0ZXIsICdsZy12aXNpYmxlJyk7XG4gICAgICAgIH0sIHRoaXMucy5iYWNrZHJvcER1cmF0aW9uKTtcblxuICAgICAgICBpZiAodGhpcy5zLmRvd25sb2FkKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyLnF1ZXJ5U2VsZWN0b3IoJy5sZy10b29sYmFyJykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPGEgaWQ9XCJsZy1kb3dubG9hZFwiIGFyaWEtbGFiZWw9XCJEb3dubG9hZFwiIHRhcmdldD1cIl9ibGFua1wiIGRvd25sb2FkIGNsYXNzPVwibGctZG93bmxvYWQgbGctaWNvblwiPjwvYT4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0b3JlIHRoZSBjdXJyZW50IHNjcm9sbCB0b3AgdmFsdWUgdG8gc2Nyb2xsIGJhY2sgYWZ0ZXIgY2xvc2luZyB0aGUgZ2FsbGVyeS4uXG4gICAgICAgIHRoaXMucHJldlNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgfTtcblxuICAgIC8vIEZvciBmaXhlZCBoZWlnaHQgZ2FsbGVyeVxuICAgIFBsdWdpbi5wcm90b3R5cGUuc2V0VG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zLmhlaWdodCAhPT0gJzEwMCUnKSB7XG4gICAgICAgICAgICB2YXIgd0ggPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgdG9wID0gKHdIIC0gcGFyc2VJbnQodGhpcy5zLmhlaWdodCwgMTApKSAvIDI7XG4gICAgICAgICAgICB2YXIgbEdhbGxlcnkgPSB0aGlzLm91dGVyLnF1ZXJ5U2VsZWN0b3IoJy5sZycpO1xuICAgICAgICAgICAgaWYgKHdIID49IHBhcnNlSW50KHRoaXMucy5oZWlnaHQsIDEwKSkge1xuICAgICAgICAgICAgICAgIGxHYWxsZXJ5LnN0eWxlLnRvcCA9IHRvcCArICdweCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxHYWxsZXJ5LnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEZpbmQgY3NzMyBzdXBwb3J0XG4gICAgUGx1Z2luLnByb3RvdHlwZS5kb0NzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGNzcyBhbmltYXRpb24gc3VwcG9ydFxuICAgICAgICB2YXIgc3VwcG9ydCA9IGZ1bmN0aW9uIHN1cHBvcnQoKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbiA9IFsndHJhbnNpdGlvbicsICdNb3pUcmFuc2l0aW9uJywgJ1dlYmtpdFRyYW5zaXRpb24nLCAnT1RyYW5zaXRpb24nLCAnbXNUcmFuc2l0aW9uJywgJ0todG1sVHJhbnNpdGlvbiddO1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJhbnNpdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2l0aW9uW2ldIGluIHJvb3Quc3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzdXBwb3J0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAgQGRlc2MgQ2hlY2sgdGhlIGdpdmVuIHNyYyBpcyB2aWRlb1xuICAgICAqICBAcGFyYW0ge1N0cmluZ30gc3JjXG4gICAgICogIEByZXR1cm4ge09iamVjdH0gdmlkZW8gdHlwZVxuICAgICAqICBFeDp7IHlvdXR1YmUgIDogIFtcIi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9YzBhc0pnU3l4Y1lcIiwgXCJjMGFzSmdTeXhjWVwiXSB9XG4gICAgICovXG4gICAgUGx1Z2luLnByb3RvdHlwZS5pc1ZpZGVvID0gZnVuY3Rpb24gKHNyYywgaW5kZXgpIHtcblxuICAgICAgICB2YXIgaHRtbDtcbiAgICAgICAgaWYgKHRoaXMucy5keW5hbWljKSB7XG4gICAgICAgICAgICBodG1sID0gdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0uaHRtbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0bWwgPSB0aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaHRtbCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzcmMgJiYgaHRtbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBodG1sNTogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB5b3V0dWJlID0gc3JjLm1hdGNoKC9cXC9cXC8oPzp3d3dcXC4pP3lvdXR1KD86XFwuYmV8YmVcXC5jb218YmUtbm9jb29raWVcXC5jb20pXFwvKD86d2F0Y2hcXD92PXxlbWJlZFxcLyk/KFthLXowLTlcXC1cXF9cXCVdKykvaSk7XG4gICAgICAgIHZhciB2aW1lbyA9IHNyYy5tYXRjaCgvXFwvXFwvKD86d3d3XFwuKT92aW1lby5jb21cXC8oWzAtOWEtelxcLV9dKykvaSk7XG4gICAgICAgIHZhciBkYWlseW1vdGlvbiA9IHNyYy5tYXRjaCgvXFwvXFwvKD86d3d3XFwuKT9kYWkubHlcXC8oWzAtOWEtelxcLV9dKykvaSk7XG4gICAgICAgIHZhciB2ayA9IHNyYy5tYXRjaCgvXFwvXFwvKD86d3d3XFwuKT8oPzp2a1xcLmNvbXx2a29udGFrdGVcXC5ydSlcXC8oPzp2aWRlb19leHRcXC5waHBcXD8pKC4qKS9pKTtcblxuICAgICAgICBpZiAoeW91dHViZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB5b3V0dWJlOiB5b3V0dWJlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHZpbWVvKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZpbWVvOiB2aW1lb1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChkYWlseW1vdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYWlseW1vdGlvbjogZGFpbHltb3Rpb25cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAodmspIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdms6IHZrXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICBAZGVzYyBDcmVhdGUgaW1hZ2UgY291bnRlclxuICAgICAqICBFeDogMS8xMFxuICAgICAqL1xuICAgIFBsdWdpbi5wcm90b3R5cGUuY291bnRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucy5jb3VudGVyKSB7XG4gICAgICAgICAgICB0aGlzLm91dGVyLnF1ZXJ5U2VsZWN0b3IodGhpcy5zLmFwcGVuZENvdW50ZXJUbykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPGRpdiBpZD1cImxnLWNvdW50ZXJcIiByb2xlPVwic3RhdHVzXCIgYXJpYS1saXZlPVwicG9saXRlXCI+PHNwYW4gaWQ9XCJsZy1jb3VudGVyLWN1cnJlbnRcIj4nICsgKHBhcnNlSW50KHRoaXMuaW5kZXgsIDEwKSArIDEpICsgJzwvc3Bhbj4gLyA8c3BhbiBpZD1cImxnLWNvdW50ZXItYWxsXCI+JyArIHRoaXMuaXRlbXMubGVuZ3RoICsgJzwvc3Bhbj48L2Rpdj4nKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAgQGRlc2MgYWRkIHN1Yi1odG1sIGludG8gdGhlIHNsaWRlXG4gICAgICogIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIHRoZSBzbGlkZVxuICAgICAqL1xuICAgIFBsdWdpbi5wcm90b3R5cGUuYWRkSHRtbCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgc3ViSHRtbCA9IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50RWxlO1xuICAgICAgICBpZiAodGhpcy5zLmR5bmFtaWMpIHtcbiAgICAgICAgICAgIHN1Ykh0bWwgPSB0aGlzLnMuZHluYW1pY0VsW2luZGV4XS5zdWJIdG1sO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudEVsZSA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgc3ViSHRtbCA9IGN1cnJlbnRFbGUuZ2V0QXR0cmlidXRlKCdkYXRhLXN1Yi1odG1sJyk7XG4gICAgICAgICAgICBpZiAodGhpcy5zLmdldENhcHRpb25Gcm9tVGl0bGVPckFsdCAmJiAhc3ViSHRtbCkge1xuICAgICAgICAgICAgICAgIHN1Ykh0bWwgPSBjdXJyZW50RWxlLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViSHRtbCAmJiBjdXJyZW50RWxlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Ykh0bWwgPSBjdXJyZW50RWxlLnF1ZXJ5U2VsZWN0b3IoJ2ltZycpLmdldEF0dHJpYnV0ZSgnYWx0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdWJIdG1sICE9PSAndW5kZWZpbmVkJyAmJiBzdWJIdG1sICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIC8vIGdldCBmaXJzdCBsZXR0ZXIgb2Ygc3ViaHRtbFxuICAgICAgICAgICAgLy8gaWYgZmlyc3QgbGV0dGVyIHN0YXJ0cyB3aXRoIC4gb3IgIyBnZXQgdGhlIGh0bWwgZm9ybSB0aGUgalF1ZXJ5IG9iamVjdFxuICAgICAgICAgICAgdmFyIGZMID0gc3ViSHRtbC5zdWJzdHJpbmcoMCwgMSk7XG4gICAgICAgICAgICBpZiAoZkwgPT09ICcuJyB8fCBmTCA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucy5zdWJIdG1sU2VsZWN0b3JSZWxhdGl2ZSAmJiAhdGhpcy5zLmR5bmFtaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViSHRtbCA9IGN1cnJlbnRFbGUucXVlcnlTZWxlY3RvcihzdWJIdG1sKS5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViSHRtbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3ViSHRtbCkuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN1Ykh0bWwgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnMuYXBwZW5kU3ViSHRtbFRvID09PSAnLmxnLXN1Yi1odG1sJykge1xuICAgICAgICAgICAgdGhpcy5vdXRlci5xdWVyeVNlbGVjdG9yKHRoaXMucy5hcHBlbmRTdWJIdG1sVG8pLmlubmVySFRNTCA9IHN1Ykh0bWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fX3NsaWRlW2luZGV4XS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHN1Ykh0bWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIGxnLWVtcHR5LWh0bWwgY2xhc3MgaWYgdGl0bGUgZG9lc24ndCBleGlzdFxuICAgICAgICBpZiAodHlwZW9mIHN1Ykh0bWwgIT09ICd1bmRlZmluZWQnICYmIHN1Ykh0bWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzdWJIdG1sID09PSAnJykge1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKHRoaXMub3V0ZXIucXVlcnlTZWxlY3Rvcih0aGlzLnMuYXBwZW5kU3ViSHRtbFRvKSwgJ2xnLWVtcHR5LWh0bWwnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQucmVtb3ZlQ2xhc3ModGhpcy5vdXRlci5xdWVyeVNlbGVjdG9yKHRoaXMucy5hcHBlbmRTdWJIdG1sVG8pLCAnbGctZW1wdHktaHRtbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQudHJpZ2dlcih0aGlzLmVsLCAnb25BZnRlckFwcGVuZFN1Ykh0bWwnLCB7XG4gICAgICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICBAZGVzYyBQcmVsb2FkIHNsaWRlc1xuICAgICAqICBAcGFyYW0ge051bWJlcn0gaW5kZXggLSBpbmRleCBvZiB0aGUgc2xpZGVcbiAgICAgKi9cbiAgICBQbHVnaW4ucHJvdG90eXBlLnByZWxvYWQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIGkgPSAxO1xuICAgICAgICB2YXIgaiA9IDE7XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPD0gdGhpcy5zLnByZWxvYWQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gdGhpcy5pdGVtcy5sZW5ndGggLSBpbmRleCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KGluZGV4ICsgaSwgZmFsc2UsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChqID0gMTsgaiA8PSB0aGlzLnMucHJlbG9hZDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggLSBqIDwgMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmxvYWRDb250ZW50KGluZGV4IC0gaiwgZmFsc2UsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICBAZGVzYyBMb2FkIHNsaWRlIGNvbnRlbnQgaW50byBzbGlkZS5cbiAgICAgKiAgQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gaW5kZXggb2YgdGhlIHNsaWRlLlxuICAgICAqICBAcGFyYW0ge0Jvb2xlYW59IHJlYyAtIGlmIHRydWUgY2FsbCBsb2FkY29udGVudCgpIGZ1bmN0aW9uIGFnYWluLlxuICAgICAqICBAcGFyYW0ge0Jvb2xlYW59IGRlbGF5IC0gZGVsYXkgZm9yIGFkZGluZyBjb21wbGV0ZSBjbGFzcy4gaXQgaXMgMCBleGNlcHQgZmlyc3QgdGltZS5cbiAgICAgKi9cbiAgICBQbHVnaW4ucHJvdG90eXBlLmxvYWRDb250ZW50ID0gZnVuY3Rpb24gKGluZGV4LCByZWMsIGRlbGF5KSB7XG5cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9oYXNQb3N0ZXIgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9pbWc7XG4gICAgICAgIHZhciBfc3JjO1xuICAgICAgICB2YXIgX3Bvc3RlcjtcbiAgICAgICAgdmFyIF9zcmNzZXQ7XG4gICAgICAgIHZhciBfc2l6ZXM7XG4gICAgICAgIHZhciBfaHRtbDtcbiAgICAgICAgdmFyIF9hbHQ7XG4gICAgICAgIHZhciBnZXRSZXNwb25zaXZlU3JjID0gZnVuY3Rpb24gZ2V0UmVzcG9uc2l2ZVNyYyhzcmNJdG1zKSB7XG4gICAgICAgICAgICB2YXIgcnNXaWR0aCA9IFtdO1xuICAgICAgICAgICAgdmFyIHJzU3JjID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNyY0l0bXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgX19zcmMgPSBzcmNJdG1zW2ldLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBNYW5hZ2UgZW1wdHkgc3BhY2VcbiAgICAgICAgICAgICAgICBpZiAoX19zcmNbMF0gPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fc3JjLnNwbGljZSgwLCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByc1NyYy5wdXNoKF9fc3JjWzBdKTtcbiAgICAgICAgICAgICAgICByc1dpZHRoLnB1c2goX19zcmNbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJzV2lkdGgubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VJbnQocnNXaWR0aFtqXSwgMTApID4gd1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zcmMgPSByc1NyY1tqXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChfdGhpcy5zLmR5bmFtaWMpIHtcblxuICAgICAgICAgICAgaWYgKF90aGlzLnMuZHluYW1pY0VsW2luZGV4XS5wb3N0ZXIpIHtcbiAgICAgICAgICAgICAgICBfaGFzUG9zdGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfcG9zdGVyID0gX3RoaXMucy5keW5hbWljRWxbaW5kZXhdLnBvc3RlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2h0bWwgPSBfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0uaHRtbDtcbiAgICAgICAgICAgIF9zcmMgPSBfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0uc3JjO1xuICAgICAgICAgICAgX2FsdCA9IF90aGlzLnMuZHluYW1pY0VsW2luZGV4XS5hbHQ7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0ucmVzcG9uc2l2ZSkge1xuICAgICAgICAgICAgICAgIHZhciBzcmNEeUl0bXMgPSBfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0ucmVzcG9uc2l2ZS5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIGdldFJlc3BvbnNpdmVTcmMoc3JjRHlJdG1zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3NyY3NldCA9IF90aGlzLnMuZHluYW1pY0VsW2luZGV4XS5zcmNzZXQ7XG4gICAgICAgICAgICBfc2l6ZXMgPSBfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0uc2l6ZXM7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5pdGVtc1tpbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLXBvc3RlcicpKSB7XG4gICAgICAgICAgICAgICAgX2hhc1Bvc3RlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX3Bvc3RlciA9IF90aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcG9zdGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9odG1sID0gX3RoaXMuaXRlbXNbaW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1odG1sJyk7XG4gICAgICAgICAgICBfc3JjID0gX3RoaXMuaXRlbXNbaW5kZXhdLmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8IF90aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJyk7XG4gICAgICAgICAgICBfYWx0ID0gX3RoaXMuaXRlbXNbaW5kZXhdLmdldEF0dHJpYnV0ZSgndGl0bGUnKTtcblxuICAgICAgICAgICAgaWYgKF90aGlzLml0ZW1zW2luZGV4XS5xdWVyeVNlbGVjdG9yKCdpbWcnKSkge1xuICAgICAgICAgICAgICAgIF9hbHQgPSBfYWx0IHx8IF90aGlzLml0ZW1zW2luZGV4XS5xdWVyeVNlbGVjdG9yKCdpbWcnKS5nZXRBdHRyaWJ1dGUoJ2FsdCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX3RoaXMuaXRlbXNbaW5kZXhdLmdldEF0dHJpYnV0ZSgnZGF0YS1yZXNwb25zaXZlJykpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3JjSXRtcyA9IF90aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVzcG9uc2l2ZScpLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgZ2V0UmVzcG9uc2l2ZVNyYyhzcmNJdG1zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3NyY3NldCA9IF90aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3Jjc2V0Jyk7XG4gICAgICAgICAgICBfc2l6ZXMgPSBfdGhpcy5pdGVtc1tpbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLXNpemVzJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIChfc3JjIHx8IF9zcmNzZXQgfHwgX3NpemVzIHx8IF9wb3N0ZXIpIHtcblxuICAgICAgICB2YXIgaWZyYW1lID0gZmFsc2U7XG4gICAgICAgIGlmIChfdGhpcy5zLmR5bmFtaWMpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0uaWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgaWZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pdGVtc1tpbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLWlmcmFtZScpID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICBpZnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9pc1ZpZGVvID0gX3RoaXMuaXNWaWRlbyhfc3JjLCBpbmRleCk7XG4gICAgICAgIGlmICghX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoX3RoaXMuX19fc2xpZGVbaW5kZXhdLCAnbGctbG9hZGVkJykpIHtcbiAgICAgICAgICAgIGlmIChpZnJhbWUpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fX19zbGlkZVtpbmRleF0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgJzxkaXYgY2xhc3M9XCJsZy12aWRlby1jb250XCIgc3R5bGU9XCJtYXgtd2lkdGg6JyArIF90aGlzLnMuaWZyYW1lTWF4V2lkdGggKyAnXCI+PGRpdiBjbGFzcz1cImxnLXZpZGVvXCI+PGlmcmFtZSBjbGFzcz1cImxnLW9iamVjdFwiIGZyYW1lYm9yZGVyPVwiMFwiIHNyYz1cIicgKyBfc3JjICsgJ1wiICBhbGxvd2Z1bGxzY3JlZW49XCJ0cnVlXCI+PC9pZnJhbWU+PC9kaXY+PC9kaXY+Jyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9oYXNQb3N0ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9DbGFzcyA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChfaXNWaWRlbyAmJiBfaXNWaWRlby55b3V0dWJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvQ2xhc3MgPSAnbGctaGFzLXlvdXR1YmUnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX2lzVmlkZW8gJiYgX2lzVmlkZW8udmltZW8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9DbGFzcyA9ICdsZy1oYXMtdmltZW8nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvQ2xhc3MgPSAnbGctaGFzLWh0bWw1JztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5fX19zbGlkZVtpbmRleF0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cImxnLXZpZGVvLWNvbnQgJyArIHZpZGVvQ2xhc3MgKyAnIFwiPjxkaXYgY2xhc3M9XCJsZy12aWRlb1wiPjxzcGFuIGNsYXNzPVwibGctdmlkZW8tcGxheVwiPjwvc3Bhbj48aW1nIGNsYXNzPVwibGctb2JqZWN0IGxnLWhhcy1wb3N0ZXJcIiBzcmM9XCInICsgX3Bvc3RlciArICdcIiAvPjwvZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfaXNWaWRlbykge1xuICAgICAgICAgICAgICAgIF90aGlzLl9fX3NsaWRlW2luZGV4XS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsICc8ZGl2IGNsYXNzPVwibGctdmlkZW8tY29udCBcIj48ZGl2IGNsYXNzPVwibGctdmlkZW9cIj48L2Rpdj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC50cmlnZ2VyKF90aGlzLmVsLCAnaGFzVmlkZW8nLCB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBfc3JjLFxuICAgICAgICAgICAgICAgICAgICBodG1sOiBfaHRtbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfYWx0ID0gX2FsdCA/ICdhbHQ9XCInICsgX2FsdCArICdcIicgOiAnJztcbiAgICAgICAgICAgICAgICBfdGhpcy5fX19zbGlkZVtpbmRleF0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnPGRpdiBjbGFzcz1cImxnLWltZy13cmFwXCI+PGltZyBjbGFzcz1cImxnLW9iamVjdCBsZy1pbWFnZVwiICcgKyBfYWx0ICsgJyBzcmM9XCInICsgX3NyYyArICdcIiAvPjwvZGl2PicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC50cmlnZ2VyKF90aGlzLmVsLCAnb25BZmVyQXBwZW5kU2xpZGUnLCB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgX2ltZyA9IF90aGlzLl9fX3NsaWRlW2luZGV4XS5xdWVyeVNlbGVjdG9yKCcubGctb2JqZWN0Jyk7XG4gICAgICAgICAgICBpZiAoX3NpemVzKSB7XG4gICAgICAgICAgICAgICAgX2ltZy5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgX3NpemVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKF9zcmNzZXQpIHtcbiAgICAgICAgICAgICAgICBfaW1nLnNldEF0dHJpYnV0ZSgnc3Jjc2V0JywgX3NyY3NldCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zLnN1cHBvcnRMZWdhY3lCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaWN0dXJlZmlsbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHM6IFtfaW1nWzBdXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignSWYgeW91IHdhbnQgc3Jjc2V0IHRvIGJlIHN1cHBvcnRlZCBmb3Igb2xkZXIgYnJvd3NlcnMsICcgKyAncGxlYXNlIGluY2x1ZGUgcGljdHVyZWZpbCBqYXZhc2NyaXB0IGxpYnJhcnkgaW4geW91ciBkb2N1bWVudC4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMucy5hcHBlbmRTdWJIdG1sVG8gIT09ICcubGctc3ViLWh0bWwnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkSHRtbChpbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzLl9fX3NsaWRlW2luZGV4XSwgJ2xnLWxvYWRlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub24oX3RoaXMuX19fc2xpZGVbaW5kZXhdLnF1ZXJ5U2VsZWN0b3IoJy5sZy1vYmplY3QnKSwgJ2xvYWQubGcgZXJyb3IubGcnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIC8vIEZvciBmaXJzdCB0aW1lIGFkZCBzb21lIGRlbGF5IGZvciBkaXNwbGF5aW5nIHRoZSBzdGFydCBhbmltYXRpb24uXG4gICAgICAgICAgICB2YXIgX3NwZWVkID0gMDtcblxuICAgICAgICAgICAgLy8gRG8gbm90IGNoYW5nZSB0aGUgZGVsYXkgdmFsdWUgYmVjYXVzZSBpdCBpcyByZXF1aXJlZCBmb3Igem9vbSBwbHVnaW4uXG4gICAgICAgICAgICAvLyBJZiBnYWxsZXJ5IG9wZW5lZCBmcm9tIGRpcmVjdCB1cmwgKGhhc2gpIHNwZWVkIHZhbHVlIHNob3VsZCBiZSAwXG4gICAgICAgICAgICBpZiAoZGVsYXkgJiYgIV9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKGRvY3VtZW50LmJvZHksICdsZy1mcm9tLWhhc2gnKSkge1xuICAgICAgICAgICAgICAgIF9zcGVlZCA9IGRlbGF5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpcy5fX19zbGlkZVtpbmRleF0sICdsZy1jb21wbGV0ZScpO1xuXG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQudHJpZ2dlcihfdGhpcy5lbCwgJ29uU2xpZGVJdGVtTG9hZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBkZWxheTogZGVsYXkgfHwgMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgX3NwZWVkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQHRvZG8gY2hlY2sgbG9hZCBzdGF0ZSBmb3IgaHRtbDUgdmlkZW9zXG4gICAgICAgIGlmIChfaXNWaWRlbyAmJiBfaXNWaWRlby5odG1sNSAmJiAhX2hhc1Bvc3Rlcikge1xuICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MoX3RoaXMuX19fc2xpZGVbaW5kZXhdLCAnbGctY29tcGxldGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICghX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoX3RoaXMuX19fc2xpZGVbaW5kZXhdLCAnbGctY29tcGxldGUnKSkge1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKF90aGlzLl9fX3NsaWRlW2luZGV4XS5xdWVyeVNlbGVjdG9yKCcubGctb2JqZWN0JyksICdsb2FkLmxnIGVycm9yLmxnJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5wcmVsb2FkKGluZGV4KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJlbG9hZChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL31cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKiAgIEBkZXNjIHNsaWRlIGZ1bmN0aW9uIGZvciBsaWdodGdhbGxlcnlcbiAgICAgICAgKiogU2xpZGUoKSBnZXRzIGNhbGwgb24gc3RhcnRcbiAgICAgICAgKiogKiogU2V0IGxnLm9uIHRydWUgb25jZSBzbGlkZSgpIGZ1bmN0aW9uIGdldHMgY2FsbGVkLlxuICAgICAgICAqKiBDYWxsIGxvYWRDb250ZW50KCkgb24gc2xpZGUoKSBmdW5jdGlvbiBpbnNpZGUgc2V0VGltZW91dFxuICAgICAgICAqKiAqKiBPbiBmaXJzdCBzbGlkZSB3ZSBkbyBub3Qgd2FudCBhbnkgYW5pbWF0aW9uIGxpa2Ugc2xpZGUgb2YgZmFkZVxuICAgICAgICAqKiAqKiBTbyBvbiBmaXJzdCBzbGlkZSggaWYgbGcub24gaWYgZmFsc2UgdGhhdCBpcyBmaXJzdCBzbGlkZSkgbG9hZENvbnRlbnQoKSBzaG91bGQgc3RhcnQgbG9hZGluZyBpbW1lZGlhdGVseVxuICAgICAgICAqKiAqKiBFbHNlIGxvYWRDb250ZW50KCkgc2hvdWxkIHdhaXQgZm9yIHRoZSB0cmFuc2l0aW9uIHRvIGNvbXBsZXRlLlxuICAgICAgICAqKiAqKiBTbyBzZXQgdGltZW91dCBzLnNwZWVkICsgNTBcbiAgICA8PT4gKiogbG9hZENvbnRlbnQoKSB3aWxsIGxvYWQgc2xpZGUgY29udGVudCBpbiB0byB0aGUgcGFydGljdWxhciBzbGlkZVxuICAgICAgICAqKiAqKiBJdCBoYXMgcmVjdXJzaW9uIChyZWMpIHBhcmFtZXRlci4gaWYgcmVjID09PSB0cnVlIGxvYWRDb250ZW50KCkgd2lsbCBjYWxsIHByZWxvYWQoKSBmdW5jdGlvbi5cbiAgICAgICAgKiogKiogcHJlbG9hZCB3aWxsIGV4ZWN1dGUgb25seSB3aGVuIHRoZSBwcmV2aW91cyBzbGlkZSBpcyBmdWxseSBsb2FkZWQgKGltYWdlcyBpZnJhbWUpXG4gICAgICAgICoqICoqIGF2b2lkIHNpbXVsdGFuZW91cyBpbWFnZSBsb2FkXG4gICAgPD0+ICoqIFByZWxvYWQoKSB3aWxsIGNoZWNrIGZvciBzLnByZWxvYWQgdmFsdWUgYW5kIGNhbGwgbG9hZENvbnRlbnQoKSBhZ2FpbiBhY2NvcmluZyB0byBwcmVsb2FkIHZhbHVlXG4gICAgICAgICoqIGxvYWRDb250ZW50KCkgIDw9PT09PiBQcmVsb2FkKCk7XG4gICAgXG4gICAgKiAgIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIGluZGV4IG9mIHRoZSBzbGlkZVxuICAgICogICBAcGFyYW0ge0Jvb2xlYW59IGZyb21Ub3VjaCAtIHRydWUgaWYgc2xpZGUgZnVuY3Rpb24gY2FsbGVkIHZpYSB0b3VjaCBldmVudCBvciBtb3VzZSBkcmFnXG4gICAgKiAgIEBwYXJhbSB7Qm9vbGVhbn0gZnJvbVRodW1iIC0gdHJ1ZSBpZiBzbGlkZSBmdW5jdGlvbiBjYWxsZWQgdmlhIHRodW1ibmFpbCBjbGlja1xuICAgICovXG4gICAgUGx1Z2luLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uIChpbmRleCwgZnJvbVRvdWNoLCBmcm9tVGh1bWIpIHtcblxuICAgICAgICB2YXIgX3ByZXZJbmRleCA9IDA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fX19zbGlkZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKF9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKHRoaXMuX19fc2xpZGVbaV0sICdsZy1jdXJyZW50JykpIHtcbiAgICAgICAgICAgICAgICBfcHJldkluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgLy8gUHJldmVudCBpZiBtdWx0aXBsZSBjYWxsXG4gICAgICAgIC8vIFJlcXVpcmVkIGZvciBoc2ggcGx1Z2luXG4gICAgICAgIGlmIChfdGhpcy5sR2FsbGVyeU9uICYmIF9wcmV2SW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX2xlbmd0aCA9IHRoaXMuX19fc2xpZGUubGVuZ3RoO1xuICAgICAgICB2YXIgX3RpbWUgPSBfdGhpcy5sR2FsbGVyeU9uID8gdGhpcy5zLnNwZWVkIDogMDtcbiAgICAgICAgdmFyIF9uZXh0ID0gZmFsc2U7XG4gICAgICAgIHZhciBfcHJldiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghX3RoaXMubGdCdXN5KSB7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnMuZG93bmxvYWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3NyYztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMucy5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgICAgIF9zcmMgPSBfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0uZG93bmxvYWRVcmwgIT09IGZhbHNlICYmIChfdGhpcy5zLmR5bmFtaWNFbFtpbmRleF0uZG93bmxvYWRVcmwgfHwgX3RoaXMucy5keW5hbWljRWxbaW5kZXhdLnNyYyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3NyYyA9IF90aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtdXJsJykgIT09ICdmYWxzZScgJiYgKF90aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZG93bmxvYWQtdXJsJykgfHwgX3RoaXMuaXRlbXNbaW5kZXhdLmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8IF90aGlzLml0ZW1zW2luZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsZy1kb3dubG9hZCcpLnNldEF0dHJpYnV0ZSgnaHJlZicsIF9zcmMpO1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLWhpZGUtZG93bmxvYWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLWhpZGUtZG93bmxvYWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvbkJlZm9yZVNsaWRlJywge1xuICAgICAgICAgICAgICAgIHByZXZJbmRleDogX3ByZXZJbmRleCxcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgZnJvbVRvdWNoOiBmcm9tVG91Y2gsXG4gICAgICAgICAgICAgICAgZnJvbVRodW1iOiBmcm9tVGh1bWJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBfdGhpcy5sZ0J1c3kgPSB0cnVlO1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuaGlkZUJhcnRpbWVvdXQpO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGl0bGUgaWYgdGhpcy5zLmFwcGVuZFN1Ykh0bWxUbyA9PT0gbGctc3ViLWh0bWxcbiAgICAgICAgICAgIGlmICh0aGlzLnMuYXBwZW5kU3ViSHRtbFRvID09PSAnLmxnLXN1Yi1odG1sJykge1xuXG4gICAgICAgICAgICAgICAgLy8gd2FpdCBmb3Igc2xpZGUgYW5pbWF0aW9uIHRvIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZEh0bWwoaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0sIF90aW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5hcnJvd0Rpc2FibGUoaW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAoIWZyb21Ub3VjaCkge1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCB0cmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzLm91dGVyLCAnbGctbm8tdHJhbnMnKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fX19zbGlkZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyh0aGlzLl9fX3NsaWRlW2pdLCAnbGctcHJldi1zbGlkZScpO1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyh0aGlzLl9fX3NsaWRlW2pdLCAnbGctbmV4dC1zbGlkZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IF9wcmV2SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3ByZXYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgJiYgX3ByZXZJbmRleCA9PT0gX2xlbmd0aCAtIDEgJiYgIWZyb21UaHVtYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3ByZXYgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9uZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiBfcHJldkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIF9uZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSBfbGVuZ3RoIC0gMSAmJiBfcHJldkluZGV4ID09PSAwICYmICFmcm9tVGh1bWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wcmV2ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9uZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoX3ByZXYpIHtcblxuICAgICAgICAgICAgICAgICAgICAvL3ByZXZzbGlkZVxuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLl9fX3NsaWRlW2luZGV4XSwgJ2xnLXByZXYtc2xpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5fX19zbGlkZVtfcHJldkluZGV4XSwgJ2xnLW5leHQtc2xpZGUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9uZXh0KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBzbGlkZVxuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLl9fX3NsaWRlW2luZGV4XSwgJ2xnLW5leHQtc2xpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3ModGhpcy5fX19zbGlkZVtfcHJldkluZGV4XSwgJ2xnLXByZXYtc2xpZGUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBnaXZlIDUwIG1zIGZvciBicm93c2VyIHRvIGFkZC9yZW1vdmUgY2xhc3NcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQucmVtb3ZlQ2xhc3MoX3RoaXMub3V0ZXIucXVlcnlTZWxlY3RvcignLmxnLWN1cnJlbnQnKSwgJ2xnLWN1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAvL190aGlzLiRzbGlkZS5lcShfcHJldkluZGV4KS5yZW1vdmVDbGFzcygnbGctY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpcy5fX19zbGlkZVtpbmRleF0sICdsZy1jdXJyZW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgYWxsIHRyYW5zaXRpb25zXG4gICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKF90aGlzLm91dGVyLCAnbGctbm8tdHJhbnMnKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoUHJldiA9IGluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2hOZXh0ID0gaW5kZXggKyAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwICYmIF9wcmV2SW5kZXggPT09IF9sZW5ndGggLSAxKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBzbGlkZVxuICAgICAgICAgICAgICAgICAgICB0b3VjaE5leHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0b3VjaFByZXYgPSBfbGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBfbGVuZ3RoIC0gMSAmJiBfcHJldkluZGV4ID09PSAwKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcHJldiBzbGlkZVxuICAgICAgICAgICAgICAgICAgICB0b3VjaE5leHQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0b3VjaFByZXYgPSBfbGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyhfdGhpcy5vdXRlci5xdWVyeVNlbGVjdG9yKCcubGctcHJldi1zbGlkZScpLCAnbGctcHJldi1zbGlkZScpO1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKF90aGlzLm91dGVyLnF1ZXJ5U2VsZWN0b3IoJy5sZy1jdXJyZW50JyksICdsZy1jdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQucmVtb3ZlQ2xhc3MoX3RoaXMub3V0ZXIucXVlcnlTZWxlY3RvcignLmxnLW5leHQtc2xpZGUnKSwgJ2xnLW5leHQtc2xpZGUnKTtcbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpcy5fX19zbGlkZVt0b3VjaFByZXZdLCAnbGctcHJldi1zbGlkZScpO1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzLl9fX3NsaWRlW3RvdWNoTmV4dF0sICdsZy1uZXh0LXNsaWRlJyk7XG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MoX3RoaXMuX19fc2xpZGVbaW5kZXhdLCAnbGctY3VycmVudCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoX3RoaXMubEdhbGxlcnlPbikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkQ29udGVudChpbmRleCwgdHJ1ZSwgMCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5zLnNwZWVkICsgNTApO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxnQnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC50cmlnZ2VyKF90aGlzLmVsLCAnb25BZnRlclNsaWRlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkluZGV4OiBfcHJldkluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbVRvdWNoOiBmcm9tVG91Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tVGh1bWI6IGZyb21UaHVtYlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLnMuc3BlZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkQ29udGVudChpbmRleCwgdHJ1ZSwgX3RoaXMucy5iYWNrZHJvcER1cmF0aW9uKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLmxnQnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvbkFmdGVyU2xpZGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleDogX3ByZXZJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmcm9tVG91Y2g6IGZyb21Ub3VjaCxcbiAgICAgICAgICAgICAgICAgICAgZnJvbVRodW1iOiBmcm9tVGh1bWJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3RoaXMubEdhbGxlcnlPbiA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnMuY291bnRlcikge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGctY291bnRlci1jdXJyZW50JykpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xnLWNvdW50ZXItY3VycmVudCcpLmlubmVySFRNTCA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogIEBkZXNjIEdvIHRvIG5leHQgc2xpZGVcbiAgICAgKiAgQHBhcmFtIHtCb29sZWFufSBmcm9tVG91Y2ggLSB0cnVlIGlmIHNsaWRlIGZ1bmN0aW9uIGNhbGxlZCB2aWEgdG91Y2ggZXZlbnRcbiAgICAgKi9cbiAgICBQbHVnaW4ucHJvdG90eXBlLmdvVG9OZXh0U2xpZGUgPSBmdW5jdGlvbiAoZnJvbVRvdWNoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghX3RoaXMubGdCdXN5KSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaW5kZXggKyAxIDwgX3RoaXMuX19fc2xpZGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaW5kZXgrKztcbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC50cmlnZ2VyKF90aGlzLmVsLCAnb25CZWZvcmVOZXh0U2xpZGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBfdGhpcy5pbmRleFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnNsaWRlKF90aGlzLmluZGV4LCBmcm9tVG91Y2gsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnMubG9vcCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvbkJlZm9yZU5leHRTbGlkZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBfdGhpcy5pbmRleFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2xpZGUoX3RoaXMuaW5kZXgsIGZyb21Ub3VjaCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMucy5zbGlkZUVuZEFuaW1hdG9pbikge1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLXJpZ2h0LWVuZCcpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKF90aGlzLm91dGVyLCAnbGctcmlnaHQtZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDQwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICBAZGVzYyBHbyB0byBwcmV2aW91cyBzbGlkZVxuICAgICAqICBAcGFyYW0ge0Jvb2xlYW59IGZyb21Ub3VjaCAtIHRydWUgaWYgc2xpZGUgZnVuY3Rpb24gY2FsbGVkIHZpYSB0b3VjaCBldmVudFxuICAgICAqL1xuICAgIFBsdWdpbi5wcm90b3R5cGUuZ29Ub1ByZXZTbGlkZSA9IGZ1bmN0aW9uIChmcm9tVG91Y2gpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFfdGhpcy5sZ0J1c3kpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pbmRleC0tO1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvbkJlZm9yZVByZXZTbGlkZScsIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IF90aGlzLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBmcm9tVG91Y2g6IGZyb21Ub3VjaFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnNsaWRlKF90aGlzLmluZGV4LCBmcm9tVG91Y2gsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnMubG9vcCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmRleCA9IF90aGlzLml0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvbkJlZm9yZVByZXZTbGlkZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBfdGhpcy5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21Ub3VjaDogZnJvbVRvdWNoXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zbGlkZShfdGhpcy5pbmRleCwgZnJvbVRvdWNoLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpcy5zLnNsaWRlRW5kQW5pbWF0b2luKSB7XG4gICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzLm91dGVyLCAnbGctbGVmdC1lbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLWxlZnQtZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDQwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFBsdWdpbi5wcm90b3R5cGUua2V5UHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKHdpbmRvdywgJ2tleXVwLmxnJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ29Ub1ByZXZTbGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmdvVG9OZXh0U2xpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub24od2luZG93LCAna2V5ZG93bi5sZycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMucy5lc2NLZXkgPT09IHRydWUgJiYgZS5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIV9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKF90aGlzLm91dGVyLCAnbGctdGh1bWItb3BlbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLXRodW1iLW9wZW4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBQbHVnaW4ucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5vbih0aGlzLm91dGVyLnF1ZXJ5U2VsZWN0b3IoJy5sZy1wcmV2JyksICdjbGljay5sZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmdvVG9QcmV2U2xpZGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub24odGhpcy5vdXRlci5xdWVyeVNlbGVjdG9yKCcubGctbmV4dCcpLCAnY2xpY2subGcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5nb1RvTmV4dFNsaWRlKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBQbHVnaW4ucHJvdG90eXBlLmFycm93RGlzYWJsZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuXG4gICAgICAgIC8vIERpc2FibGUgYXJyb3dzIGlmIHMuaGlkZUNvbnRyb2xPbkVuZCBpcyB0cnVlXG4gICAgICAgIGlmICghdGhpcy5zLmxvb3AgJiYgdGhpcy5zLmhpZGVDb250cm9sT25FbmQpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5vdXRlci5xdWVyeVNlbGVjdG9yKCcubGctbmV4dCcpO1xuICAgICAgICAgICAgdmFyIHByZXYgPSB0aGlzLm91dGVyLnF1ZXJ5U2VsZWN0b3IoJy5sZy1wcmV2Jyk7XG4gICAgICAgICAgICBpZiAoaW5kZXggKyAxIDwgdGhpcy5fX19zbGlkZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBuZXh0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyhuZXh0LCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MobmV4dCwgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBwcmV2LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyhwcmV2LCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJldi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MocHJldiwgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUGx1Z2luLnByb3RvdHlwZS5zZXRUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZWwsIHhWYWx1ZSwgeVZhbHVlKSB7XG4gICAgICAgIC8vIGpRdWVyeSBzdXBwb3J0cyBBdXRvbWF0aWMgQ1NTIHByZWZpeGluZyBzaW5jZSBqUXVlcnkgMS44LjBcbiAgICAgICAgaWYgKHRoaXMucy51c2VMZWZ0KSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5sZWZ0ID0geFZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuc2V0VmVuZG9yKGVsLCAnVHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyB4VmFsdWUgKyAncHgsICcgKyB5VmFsdWUgKyAncHgsIDBweCknKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBQbHVnaW4ucHJvdG90eXBlLnRvdWNoTW92ZSA9IGZ1bmN0aW9uIChzdGFydENvb3JkcywgZW5kQ29vcmRzKSB7XG5cbiAgICAgICAgdmFyIGRpc3RhbmNlID0gZW5kQ29vcmRzIC0gc3RhcnRDb29yZHM7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRpc3RhbmNlKSA+IDE1KSB7XG4gICAgICAgICAgICAvLyByZXNldCBvcGFjaXR5IGFuZCB0cmFuc2l0aW9uIGR1cmF0aW9uXG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLm91dGVyLCAnbGctZHJhZ2dpbmcnKTtcblxuICAgICAgICAgICAgLy8gbW92ZSBjdXJyZW50IHNsaWRlXG4gICAgICAgICAgICB0aGlzLnNldFRyYW5zbGF0ZSh0aGlzLl9fX3NsaWRlW3RoaXMuaW5kZXhdLCBkaXN0YW5jZSwgMCk7XG5cbiAgICAgICAgICAgIC8vIG1vdmUgbmV4dCBhbmQgcHJldiBzbGlkZSB3aXRoIGN1cnJlbnQgc2xpZGVcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNsYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZy1wcmV2LXNsaWRlJyksIC10aGlzLl9fX3NsaWRlW3RoaXMuaW5kZXhdLmNsaWVudFdpZHRoICsgZGlzdGFuY2UsIDApO1xuICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2xhdGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxnLW5leHQtc2xpZGUnKSwgdGhpcy5fX19zbGlkZVt0aGlzLmluZGV4XS5jbGllbnRXaWR0aCArIGRpc3RhbmNlLCAwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBQbHVnaW4ucHJvdG90eXBlLnRvdWNoRW5kID0gZnVuY3Rpb24gKGRpc3RhbmNlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgLy8ga2VlcCBzbGlkZSBhbmltYXRpb24gZm9yIGFueSBtb2RlIHdoaWxlIGRyYWdnL3N3aXBlXG4gICAgICAgIGlmIChfdGhpcy5zLm1vZGUgIT09ICdsZy1zbGlkZScpIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzLm91dGVyLCAnbGctc2xpZGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fX19zbGlkZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyh0aGlzLl9fX3NsaWRlW2ldLCAnbGctY3VycmVudCcpICYmICFfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyh0aGlzLl9fX3NsaWRlW2ldLCAnbGctcHJldi1zbGlkZScpICYmICFfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyh0aGlzLl9fX3NsaWRlW2ldLCAnbGctbmV4dC1zbGlkZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX19zbGlkZVtpXS5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRyYW5zaXRpb24gZHVyYXRpb25cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLWRyYWdnaW5nJyk7XG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAwICYmIE1hdGguYWJzKGRpc3RhbmNlKSA+IF90aGlzLnMuc3dpcGVUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5nb1RvTmV4dFNsaWRlKHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZSA+IDAgJiYgTWF0aC5hYnMoZGlzdGFuY2UpID4gX3RoaXMucy5zd2lwZVRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmdvVG9QcmV2U2xpZGUodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGRpc3RhbmNlKSA8IDUpIHtcblxuICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgY2xpY2sgaWYgZGlzdGFuY2UgaXMgbGVzcyB0aGFuIDUgcGl4XG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQudHJpZ2dlcihfdGhpcy5lbCwgJ29uU2xpZGVDbGljaycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLl9fX3NsaWRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX19fc2xpZGVbaV0ucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZW1vdmUgc2xpZGUgY2xhc3Mgb25jZSBkcmFnL3N3aXBlIGlzIGNvbXBsZXRlZCBpZiBtb2RlIGlzIG5vdCBzbGlkZVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoX3RoaXMub3V0ZXIsICdsZy1kcmFnZ2luZycpICYmIF90aGlzLnMubW9kZSAhPT0gJ2xnLXNsaWRlJykge1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKF90aGlzLm91dGVyLCAnbGctc2xpZGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgX3RoaXMucy5zcGVlZCArIDEwMCk7XG4gICAgfTtcblxuICAgIFBsdWdpbi5wcm90b3R5cGUuZW5hYmxlU3dpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IDA7XG4gICAgICAgIHZhciBlbmRDb29yZHMgPSAwO1xuICAgICAgICB2YXIgaXNNb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChfdGhpcy5zLmVuYWJsZVN3aXBlICYmIF90aGlzLmlzVG91Y2ggJiYgX3RoaXMuZG9Dc3MoKSkge1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLl9fX3NsaWRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLypqc2hpbnQgbG9vcGZ1bmM6IHRydWUgKi9cbiAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5vbihfdGhpcy5fX19zbGlkZVtpXSwgJ3RvdWNoc3RhcnQubGcnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKF90aGlzLm91dGVyLCAnbGctem9vbWVkJykgJiYgIV90aGlzLmxnQnVzeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWFuYWdlU3dpcGVDbGFzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRDb29yZHMgPSBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBfdGhpcy5fX19zbGlkZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIC8qanNoaW50IGxvb3BmdW5jOiB0cnVlICovXG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub24oX3RoaXMuX19fc2xpZGVbal0sICd0b3VjaG1vdmUubGcnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKF90aGlzLm91dGVyLCAnbGctem9vbWVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZENvb3JkcyA9IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoTW92ZShzdGFydENvb3JkcywgZW5kQ29vcmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgX3RoaXMuX19fc2xpZGUubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAvKmpzaGludCBsb29wZnVuYzogdHJ1ZSAqL1xuICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKF90aGlzLl9fX3NsaWRlW2tdLCAndG91Y2hlbmQubGcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoX3RoaXMub3V0ZXIsICdsZy16b29tZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudG91Y2hFbmQoZW5kQ29vcmRzIC0gc3RhcnRDb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC50cmlnZ2VyKF90aGlzLmVsLCAnb25TbGlkZUNsaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBQbHVnaW4ucHJvdG90eXBlLmVuYWJsZURyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IDA7XG4gICAgICAgIHZhciBlbmRDb29yZHMgPSAwO1xuICAgICAgICB2YXIgaXNEcmFnaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBpc01vdmVkID0gZmFsc2U7XG4gICAgICAgIGlmIChfdGhpcy5zLmVuYWJsZURyYWcgJiYgIV90aGlzLmlzVG91Y2ggJiYgX3RoaXMuZG9Dc3MoKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5fX19zbGlkZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8qanNoaW50IGxvb3BmdW5jOiB0cnVlICovXG4gICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub24oX3RoaXMuX19fc2xpZGVbaV0sICdtb3VzZWRvd24ubGcnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBleGVjdXRlIG9ubHkgb24gLmxnLW9iamVjdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIV9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKF90aGlzLm91dGVyLCAnbGctem9vbWVkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyhlLnRhcmdldCwgJ2xnLW9iamVjdCcpIHx8IF9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKGUudGFyZ2V0LCAnbGctdmlkZW8tcGxheScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5sZ0J1c3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubWFuYWdlU3dpcGVDbGFzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydENvb3JkcyA9IGUucGFnZVg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRHJhZ2luZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKiogRml4IGZvciB3ZWJraXQgY3Vyc29yIGlzc3VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNjcyM1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vdXRlci5zY3JvbGxMZWZ0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnNjcm9sbExlZnQgLT0gMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAqXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQucmVtb3ZlQ2xhc3MoX3RoaXMub3V0ZXIsICdsZy1ncmFiJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LmFkZENsYXNzKF90aGlzLm91dGVyLCAnbGctZ3JhYmJpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC50cmlnZ2VyKF90aGlzLmVsLCAnb25EcmFnc3RhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub24od2luZG93LCAnbW91c2Vtb3ZlLmxnJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEcmFnaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBlbmRDb29yZHMgPSBlLnBhZ2VYO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50b3VjaE1vdmUoc3RhcnRDb29yZHMsIGVuZENvb3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvbkRyYWdtb3ZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKHdpbmRvdywgJ21vdXNldXAubGcnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChpc01vdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG91Y2hFbmQoZW5kQ29vcmRzIC0gc3RhcnRDb29yZHMpO1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC50cmlnZ2VyKF90aGlzLmVsLCAnb25EcmFnZW5kJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyhlLnRhcmdldCwgJ2xnLW9iamVjdCcpIHx8IF9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKGUudGFyZ2V0LCAnbGctdmlkZW8tcGxheScpKSB7XG4gICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvblNsaWRlQ2xpY2snKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGV4ZWN1dGlvbiBvbiBjbGlja1xuICAgICAgICAgICAgICAgIGlmIChpc0RyYWdpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNEcmFnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKF90aGlzLm91dGVyLCAnbGctZ3JhYmJpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQuYWRkQ2xhc3MoX3RoaXMub3V0ZXIsICdsZy1ncmFiJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgUGx1Z2luLnByb3RvdHlwZS5tYW5hZ2VTd2lwZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG91Y2hOZXh0ID0gdGhpcy5pbmRleCArIDE7XG4gICAgICAgIHZhciB0b3VjaFByZXYgPSB0aGlzLmluZGV4IC0gMTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX19fc2xpZGUubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5zLmxvb3ApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdG91Y2hQcmV2ID0gbGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pbmRleCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIHRvdWNoTmV4dCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX19fc2xpZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKHRoaXMuX19fc2xpZGVbaV0sICdsZy1uZXh0LXNsaWRlJyk7XG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5yZW1vdmVDbGFzcyh0aGlzLl9fX3NsaWRlW2ldLCAnbGctcHJldi1zbGlkZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRvdWNoUHJldiA+IC0xKSB7XG4gICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLl9fX3NsaWRlW3RvdWNoUHJldl0sICdsZy1wcmV2LXNsaWRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5hZGRDbGFzcyh0aGlzLl9fX3NsaWRlW3RvdWNoTmV4dF0sICdsZy1uZXh0LXNsaWRlJyk7XG4gICAgfTtcblxuICAgIFBsdWdpbi5wcm90b3R5cGUubW91c2V3aGVlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub24oX3RoaXMub3V0ZXIsICdtb3VzZXdoZWVsLmxnJywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgaWYgKCFlLmRlbHRhWSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGUuZGVsdGFZID4gMCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmdvVG9QcmV2U2xpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZ29Ub05leHRTbGlkZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBQbHVnaW4ucHJvdG90eXBlLmNsb3NlR2FsbGVyeSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbW91c2Vkb3duID0gZmFsc2U7XG4gICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKHRoaXMub3V0ZXIucXVlcnlTZWxlY3RvcignLmxnLWNsb3NlJyksICdjbGljay5sZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKF90aGlzLnMuY2xvc2FibGUpIHtcblxuICAgICAgICAgICAgLy8gSWYgeW91IGRyYWcgdGhlIHNsaWRlIGFuZCByZWxlYXNlIG91dHNpZGUgZ2FsbGVyeSBnZXRzIGNsb3NlIG9uIGNocm9tZVxuICAgICAgICAgICAgLy8gZm9yIHByZXZlbnRpbmcgdGhpcyBjaGVjayBtb3VzZWRvd24gYW5kIG1vdXNldXAgaGFwcGVuZWQgb24gLmxnLWl0ZW0gb3IgbGctb3V0ZXJcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKF90aGlzLm91dGVyLCAnbW91c2Vkb3duLmxnJywgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgICAgICAgIGlmIChfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyhlLnRhcmdldCwgJ2xnLW91dGVyJykgfHwgX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoZS50YXJnZXQsICdsZy1pdGVtJykgfHwgX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoZS50YXJnZXQsICdsZy1pbWctd3JhcCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlZG93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9uKF90aGlzLm91dGVyLCAnbW91c2V1cC5sZycsIGZ1bmN0aW9uIChlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoX2xnVXRpbHMyLmRlZmF1bHQuaGFzQ2xhc3MoZS50YXJnZXQsICdsZy1vdXRlcicpIHx8IF9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKGUudGFyZ2V0LCAnbGctaXRlbScpIHx8IF9sZ1V0aWxzMi5kZWZhdWx0Lmhhc0NsYXNzKGUudGFyZ2V0LCAnbGctaW1nLXdyYXAnKSAmJiBtb3VzZWRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfbGdVdGlsczIuZGVmYXVsdC5oYXNDbGFzcyhfdGhpcy5vdXRlciwgJ2xnLWRyYWdnaW5nJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFBsdWdpbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChkKSB7XG5cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnRyaWdnZXIoX3RoaXMuZWwsICdvbkJlZm9yZUNsb3NlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IF90aGlzLnByZXZTY3JvbGxUb3A7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBfdGhpcy5wcmV2U2Nyb2xsVG9wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiBkIGlzIGZhbHNlIG9yIHVuZGVmaW5lZCBkZXN0cm95IHdpbGwgb25seSBjbG9zZSB0aGUgZ2FsbGVyeVxuICAgICAgICAgKiBwbHVnaW5zIGluc3RhbmNlIHJlbWFpbnMgd2l0aCB0aGUgZWxlbWVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBpZiBkIGlzIHRydWUgZGVzdHJveSB3aWxsIGNvbXBsZXRlbHkgcmVtb3ZlIHRoZSBwbHVnaW5cbiAgICAgICAgICovXG5cbiAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMucy5keW5hbWljKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSB3aGVuIG5vdCB1c2luZyBkeW5hbWljIG1vZGUgaXMgJGl0ZW1zIGEganF1ZXJ5IGNvbGxlY3Rpb25cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5vZmYodGhpcy5pdGVtc1tpXSwgJy5sZycpO1xuICAgICAgICAgICAgICAgICAgICBfbGdVdGlsczIuZGVmYXVsdC5vZmYodGhpcy5pdGVtc1tpXSwgJy5sZ2N1c3RvbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGxndWlkID0gX3RoaXMuZWwuZ2V0QXR0cmlidXRlKCdsZy11aWQnKTtcbiAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3cubGdEYXRhW2xndWlkXTtcbiAgICAgICAgICAgIF90aGlzLmVsLnJlbW92ZUF0dHJpYnV0ZSgnbGctdWlkJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbmJpbmQgYWxsIGV2ZW50cyBhZGRlZCBieSBsaWdodEdhbGxlcnlcbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQub2ZmKHRoaXMuZWwsICcubGd0bScpO1xuXG4gICAgICAgIC8vIERpc3Ryb3kgYWxsIGxpZ2h0R2FsbGVyeSBtb2R1bGVzXG4gICAgICAgIGZvciAodmFyIGtleSBpbiB3aW5kb3cubGdNb2R1bGVzKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMubW9kdWxlc1trZXldKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubW9kdWxlc1trZXldLmRlc3Ryb3koZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxHYWxsZXJ5T24gPSBmYWxzZTtcblxuICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMuaGlkZUJhcnRpbWVvdXQpO1xuICAgICAgICB0aGlzLmhpZGVCYXJ0aW1lb3V0ID0gZmFsc2U7XG4gICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0Lm9mZih3aW5kb3csICcubGcnKTtcbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQucmVtb3ZlQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ2xnLW9uJyk7XG4gICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICdsZy1mcm9tLWhhc2gnKTtcblxuICAgICAgICBpZiAoX3RoaXMub3V0ZXIpIHtcbiAgICAgICAgICAgIF9sZ1V0aWxzMi5kZWZhdWx0LnJlbW92ZUNsYXNzKF90aGlzLm91dGVyLCAnbGctdmlzaWJsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQucmVtb3ZlQ2xhc3MoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxnLWJhY2tkcm9wJyksICdpbicpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm91dGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm91dGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoX3RoaXMub3V0ZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGctYmFja2Ryb3AnKSkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGctYmFja2Ryb3AnKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZy1iYWNrZHJvcCcpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWQpIHtcbiAgICAgICAgICAgICAgICAgICAgX2xnVXRpbHMyLmRlZmF1bHQudHJpZ2dlcihfdGhpcy5lbCwgJ29uQ2xvc2VBZnRlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5lbC5mb2N1cygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgICB9LCBfdGhpcy5zLmJhY2tkcm9wRHVyYXRpb24gKyA1MCk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5saWdodEdhbGxlcnkgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghZWwuZ2V0QXR0cmlidXRlKCdsZy11aWQnKSkge1xuICAgICAgICAgICAgICAgIHZhciB1aWQgPSAnbGcnICsgd2luZG93LmxnRGF0YS51aWQrKztcbiAgICAgICAgICAgICAgICB3aW5kb3cubGdEYXRhW3VpZF0gPSBuZXcgUGx1Z2luKGVsLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2xnLXVpZCcsIHVpZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sZ0RhdGFbZWwuZ2V0QXR0cmlidXRlKCdsZy11aWQnKV0uaW5pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xpZ2h0R2FsbGVyeSBoYXMgbm90IGluaXRpYXRlZCBwcm9wZXJseScsIGVycik7XG4gICAgICAgIH1cbiAgICB9O1xufSk7Il0sIm5hbWVzIjpbImdsb2JhbCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwicmVxdWlyZSIsIm1vZCIsImxnVXRpbHMiLCJsaWdodGdhbGxlcnkiLCJfbGdVdGlscyIsIl9sZ1V0aWxzMiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIndpbmRvdyIsIkN1c3RvbUV2ZW50IiwiZXZlbnQiLCJwYXJhbXMiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImRldGFpbCIsInVuZGVmaW5lZCIsImV2dCIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJFdmVudCIsInV0aWxzIiwibGdEYXRhIiwidWlkIiwibGdNb2R1bGVzIiwiZGVmYXVsdHMiLCJtb2RlIiwiY3NzRWFzaW5nIiwiZWFzaW5nIiwic3BlZWQiLCJoZWlnaHQiLCJ3aWR0aCIsImFkZENsYXNzIiwic3RhcnRDbGFzcyIsImJhY2tkcm9wRHVyYXRpb24iLCJoaWRlQmFyc0RlbGF5IiwidXNlTGVmdCIsImFyaWFMYWJlbGxlZGJ5IiwiYXJpYURlc2NyaWJlZGJ5IiwiY2xvc2FibGUiLCJsb29wIiwiZXNjS2V5Iiwia2V5UHJlc3MiLCJjb250cm9scyIsInNsaWRlRW5kQW5pbWF0b2luIiwiaGlkZUNvbnRyb2xPbkVuZCIsIm1vdXNld2hlZWwiLCJnZXRDYXB0aW9uRnJvbVRpdGxlT3JBbHQiLCJhcHBlbmRTdWJIdG1sVG8iLCJzdWJIdG1sU2VsZWN0b3JSZWxhdGl2ZSIsInByZWxvYWQiLCJzaG93QWZ0ZXJMb2FkIiwic2VsZWN0b3IiLCJzZWxlY3RXaXRoaW4iLCJuZXh0SHRtbCIsInByZXZIdG1sIiwiaW5kZXgiLCJpZnJhbWVNYXhXaWR0aCIsImRvd25sb2FkIiwiY291bnRlciIsImFwcGVuZENvdW50ZXJUbyIsInN3aXBlVGhyZXNob2xkIiwiZW5hYmxlU3dpcGUiLCJlbmFibGVEcmFnIiwiZHluYW1pYyIsImR5bmFtaWNFbCIsImdhbGxlcnlJZCIsInN1cHBvcnRMZWdhY3lCcm93c2VyIiwiUGx1Z2luIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJlbCIsInMiLCJjb25zdHJ1Y3RvciIsIkFycmF5IiwibW9kdWxlcyIsImxHYWxsZXJ5T24iLCJsZ0J1c3kiLCJoaWRlQmFydGltZW91dCIsImlzVG91Y2giLCJkb2N1bWVudEVsZW1lbnQiLCJpdGVtcyIsInB1c2giLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImNoaWxkcmVuIiwiX19fc2xpZGUiLCJvdXRlciIsImluaXQiLCJfdGhpcyIsIl9oYXNoIiwibG9jYXRpb24iLCJoYXNoIiwiaW5kZXhPZiIsInBhcnNlSW50Iiwic3BsaXQiLCJib2R5IiwiaGFzQ2xhc3MiLCJzZXRUaW1lb3V0IiwiYnVpbGQiLCJ0cmlnZ2VyIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJzdHJ1Y3R1cmUiLCJzbGlkZSIsImFycm93IiwiY2xvc2VHYWxsZXJ5IiwiaW5pdGlhbEhpZGVCYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlQ2xhc3MiLCJsaXN0Iiwic3ViSHRtbENvbnQiLCJ0ZW1wbGF0ZSIsImluc2VydEFkamFjZW50SFRNTCIsInNldFZlbmRvciIsImZvY3VzIiwic2V0VG9wIiwiZG9Dc3MiLCJpbm5lciIsInByZXZTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJ3SCIsImlubmVySGVpZ2h0IiwidG9wIiwibEdhbGxlcnkiLCJzdHlsZSIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwicm9vdCIsImlzVmlkZW8iLCJzcmMiLCJodG1sIiwiZ2V0QXR0cmlidXRlIiwiaHRtbDUiLCJ5b3V0dWJlIiwibWF0Y2giLCJ2aW1lbyIsImRhaWx5bW90aW9uIiwidmsiLCJhZGRIdG1sIiwic3ViSHRtbCIsImN1cnJlbnRFbGUiLCJmTCIsInN1YnN0cmluZyIsImlubmVySFRNTCIsImoiLCJsb2FkQ29udGVudCIsInJlYyIsImRlbGF5IiwiX2hhc1Bvc3RlciIsIl9pbWciLCJfc3JjIiwiX3Bvc3RlciIsIl9zcmNzZXQiLCJfc2l6ZXMiLCJfaHRtbCIsIl9hbHQiLCJnZXRSZXNwb25zaXZlU3JjIiwic3JjSXRtcyIsInJzV2lkdGgiLCJyc1NyYyIsIl9fc3JjIiwic3BsaWNlIiwid1dpZHRoIiwiaW5uZXJXaWR0aCIsInBvc3RlciIsImFsdCIsInJlc3BvbnNpdmUiLCJzcmNEeUl0bXMiLCJzcmNzZXQiLCJzaXplcyIsImlmcmFtZSIsIl9pc1ZpZGVvIiwidmlkZW9DbGFzcyIsInNldEF0dHJpYnV0ZSIsInBpY3R1cmVmaWxsIiwiZWxlbWVudHMiLCJjb25zb2xlIiwid2FybiIsIl9zcGVlZCIsImZyb21Ub3VjaCIsImZyb21UaHVtYiIsIl9wcmV2SW5kZXgiLCJfbGVuZ3RoIiwiX3RpbWUiLCJfbmV4dCIsIl9wcmV2IiwiZG93bmxvYWRVcmwiLCJnZXRFbGVtZW50QnlJZCIsInByZXZJbmRleCIsImFycm93RGlzYWJsZSIsInRvdWNoUHJldiIsInRvdWNoTmV4dCIsImdvVG9OZXh0U2xpZGUiLCJnb1RvUHJldlNsaWRlIiwia2V5Q29kZSIsImRlc3Ryb3kiLCJuZXh0IiwicHJldiIsInJlbW92ZUF0dHJpYnV0ZSIsInNldFRyYW5zbGF0ZSIsInhWYWx1ZSIsInlWYWx1ZSIsImxlZnQiLCJ0b3VjaE1vdmUiLCJzdGFydENvb3JkcyIsImVuZENvb3JkcyIsImRpc3RhbmNlIiwiTWF0aCIsImFicyIsImNsaWVudFdpZHRoIiwidG91Y2hFbmQiLCJvcGFjaXR5IiwiaXNNb3ZlZCIsIm1hbmFnZVN3aXBlQ2xhc3MiLCJ0YXJnZXRUb3VjaGVzIiwicGFnZVgiLCJrIiwiaXNEcmFnaW5nIiwic2Nyb2xsTGVmdCIsImRlbHRhWSIsIm1vdXNlZG93biIsImQiLCJvZmYiLCJsZ3VpZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImVyciIsImxpZ2h0R2FsbGVyeSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/lightgallery.js/lib/js/lightgallery.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/lightgallery.js/dist/css/lightgallery.css":
/*!****************************************************************!*\
  !*** ./node_modules/lightgallery.js/dist/css/lightgallery.css ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"60dcc5e133fe\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbGlnaHRnYWxsZXJ5LmpzL2Rpc3QvY3NzL2xpZ2h0Z2FsbGVyeS5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFydHVwLW5leHRqcy10ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy9saWdodGdhbGxlcnkuanMvZGlzdC9jc3MvbGlnaHRnYWxsZXJ5LmNzcz82MGE5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNjBkY2M1ZTEzM2ZlXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/lightgallery.js/dist/css/lightgallery.css\n");

/***/ })

};
;